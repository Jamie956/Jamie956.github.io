
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>JavaScript Â· Jamie House</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Jamie">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="angular.html" />
    
    
    <link rel="prev" href="nginx.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Contents
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="git.html">
            
                <a href="git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="dataStructure.html">
            
                <a href="dataStructure.html">
            
                    
                    Data Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="http.html">
            
                <a href="http.html">
            
                    
                    Http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="linux.html">
            
                <a href="linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="nodejs.html">
            
                <a href="nodejs.html">
            
                    
                    NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="nginx.html">
            
                <a href="nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.3" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="angular.html">
            
                <a href="angular.html">
            
                    
                    Angular
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="java.html">
            
                <a href="java.html">
            
                    
                    Java
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="docker.html">
            
                <a href="docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="music.html">
            
                <a href="music.html">
            
                    
                    Music
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="undefined.html">
            
                <a href="undefined.html">
            
                    
                    Undefined
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="guide.html">
            
                <a href="guide.html">
            
                    
                    Guide
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >JavaScript</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright &#xA9; aleen42 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#event-loop">event loop</a><i></i></div></li>
<li><div><a href="#settimeout">setTimeout</a><i></i></div></li>
<li><div><a href="#setinterval">setInterval</a><i></i></div></li>
<li><div><a href="#task">task</a><i></i></div></li>
<li><div><a href="#primitive">primitive</a><i></i></div></li>
<li><div><a href="#object">object</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#wrap">wrap</a><i></i></div></li>
</ul></li>
<li><div><a href="#equality-comparisons">Equality comparisons</a><i></i></div></li>
<li><div><a href="#reference-types">reference types</a><i></i></div></li>
<li><div><a href="#this">this</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#apply">apply</a><i></i></div></li>
<li><div><a href="#call">call</a><i></i></div></li>
<li><div><a href="#bind">bind</a><i></i></div></li>
</ul></li>
<li><div><a href="#mvvm">MVVM</a><i></i></div></li>
<li><div><a href="#dom">DOM</a><i></i></div></li>
<li><div><a href="#new">new</a><i></i></div></li>
<li><div><a href="#prototype">prototype</a><i></i></div></li>
<li><div><a href="#grammar-and-types">Grammar and types</a><i></i></div></li>
<li><div><a href="#control-flow-and-error-handling">Control flow and error handling</a><i></i></div></li>
<li><div><a href="#loops-and-iteration">Loops and iteration</a><i></i></div></li>
<li><div><a href="#functions">Functions</a><i></i></div></li>
<li><div><a href="#expressions-and-operators">Expressions and operators</a><i></i></div></li>
<li><div><a href="#numbers-and-dates">Numbers and dates</a><i></i></div></li>
<li><div><a href="#regular-expressions">Regular expressions</a><i></i></div></li>
<li><div><a href="#working-with-objects">Working with objects</a><i></i></div></li>
</ul>
</div>

<p>call stack</p>
<blockquote>
<p>Reference</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Call_stack" target="_blank">https://developer.mozilla.org/en-US/docs/Glossary/Call_stack</a></p>
</blockquote>
<p>A <strong>call stack</strong> is a mechanism for an interpreter (like  the JavaScript interpreter in a web browser) to keep track of its place  in a script that calls multiple functions &#x2014; what function is currently being run, what functions are called from within that function and should be called next, etc.</p>
<ul>
<li>When a script calls a function, the interpreter adds it to the call stack and then starts carrying out the function.</li>
<li>Any functions that are called by that function are added to the call stack further up, and run where their calls are reached.</li>
<li>When the current function is finished, the interpreter takes it off  the stack and resumes execution where it left off in the last code  listing.</li>
<li>If the stack takes up more space than it had assigned to it, it results in a &quot;stack overflow&quot; error.</li>
</ul>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greeting</span>(<span class="hljs-params"></span>) </span>{
   sayHi();
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayHi</span>(<span class="hljs-params"></span>) </span>{
   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hi!&quot;</span>;
}
greeting();
</code></pre>
<p>The code above would be executed like this:</p>
<ol>
<li><p>Ignore all functions, until it reaches the <code>greeting()</code> function.</p>
</li>
<li><p>Invoke the <code>greeting()</code> function.</p>
</li>
<li><p>Add the <code>greeting</code> function to the call stack list.</p>
<p>Call stack list:</p>
<p>greeting</p>
</li>
<li><p>Execute all lines of code inside the <code>greeting</code> function.</p>
</li>
<li><p>Get to the <code>sayHi()</code> function.</p>
</li>
<li><p>Add the <code>sayHi()</code> function to the call stack list.</p>
<p>Call stack list:</p>
<p>greeting</p>
<p>sayHi</p>
</li>
<li><p>Execute all lines of code inside the <code>sayHi()</code> function, until reaches its end.</p>
</li>
<li><p>Return execution to the line that invoked <code>sayHi()</code> and continue executing the rest of the <code>greeting()</code> function.</p>
</li>
<li><p>Delete the <code>sayHi()</code> function from our call stack list.</p>
<p>Call stack list:</p>
<p>greeting</p>
</li>
<li><p>When everything inside the <code>greeting()</code> function has been executed, return to its invoking line to continue executing the rest of the JS code.</p>
</li>
<li><p>Delete the <code>greeting()</code> function from the call stack list.</p>
<p>Call stack list: EMPTY</p>
</li>
</ol>
<p>We started with an empty Call Stack, and whenever we invoke a function,  it is automatically added to the Call Stack, after executing all of its  codes, it is automatically removed from the Call Stack. At the end, we  ended up with an empty stack too.</p>
<h3 id="event-loop">event loop</h3>
<p><img width="80%" src="https://user-gold-cdn.xitu.io/2017/11/21/15fdd88994142347?imageView2/0/w/1280/h/960/ignore-error/1"></p>
<p>&#x4E3B;&#x7EBF;&#x7A0B;&#x5185;&#x7684;&#x4EFB;&#x52A1;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x4F1A;&#x53BB;&#x68C0;&#x67E5;Event Queue&#x7684;&#x51FD;&#x6570;</p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> data = [];
$.ajax({
    url:www.javascript.com,
    data:data,
    success:() =&gt; {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;&#x53D1;&#x9001;&#x6210;&#x529F;!&apos;</span>);
    }
})
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x675F;&apos;</span>);
</code></pre>
<ol>
<li>ajax&#x8FDB;&#x5165;Event Table&#xFF0C;&#x6CE8;&#x518C;&#x56DE;&#x8C03;&#x51FD;&#x6570;<code>success</code></li>
<li>&#x6267;&#x884C;<code>console.log(&apos;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x7ED3;&#x675F;&apos;)</code></li>
<li>ajax&#x4E8B;&#x4EF6;&#x5B8C;&#x6210;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;<code>success</code>&#x8FDB;&#x5165;Event Queue</li>
<li>&#x4E3B;&#x7EBF;&#x7A0B;&#x4ECE;Event Queue&#x8BFB;&#x53D6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x6267;&#x884C;<code>success</code></li>
</ol>
<h3 id="settimeout">setTimeout</h3>
<p>It&apos;s important to note that setTimeout(..) doesn&apos;t put your callback on the event loop queue. What it does is set up a timer; when the timer expires, the environment places your callback into the event loop, such that some future tick will pick it up and execute it.</p>
<pre><code class="lang-js">setTimeout(() =&gt; {
    task();
},<span class="hljs-number">3000</span>);
sleep(<span class="hljs-number">10000000</span>);
</code></pre>
<ol>
<li><code>task()</code>&#x8FDB;&#x5165;Event Table&#xFF0C;&#x8BA1;&#x65F6;&#x5F00;&#x59CB;</li>
<li>&#x6267;&#x884C;<code>sleep</code></li>
<li>3&#x79D2;&#x5230;&#x4E86;&#xFF0C;&#x8BA1;&#x65F6;&#x4E8B;&#x4EF6;<code>timeout</code>&#x5B8C;&#x6210;&#xFF0C;<code>task()</code>&#x8FDB;&#x5165;Event Queue&#xFF0C;&#x7B49;&#x5F85;&#x4E3B;&#x7EBF;&#x7A0B;</li>
<li><code>sleep</code>&#x6267;&#x884C;&#x5B8C;</li>
<li>&#x626B;&#x63CF;Event Queue&#xFF0C;<code>task()</code>&#x8FDB;&#x5165;&#x4E3B;&#x7EBF;&#x7A0B;&#x6267;&#x884C;</li>
</ol>
<h3 id="setinterval">setInterval</h3>
<p><code>setInterval(fn,ms)</code>&#x6BCF;&#x8FC7;<code>ms</code>&#x79D2;&#xFF0C;<code>fn</code>&#x8FDB;&#x5165;Event Queue</p>
<p>fn&#x6267;&#x884C;&#x65F6;&#x95F4;&#x5927;&#x4E8E;ms&#x65F6;&#xFF0C;&#x770B;&#x8D77;&#x6765;fn&#x8FDE;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x6CA1;&#x6709;&#x95F4;&#x9694;</p>
<h3 id="task">task</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://juejin.im/post/59e85eebf265da430d571f89" target="_blank">https://juejin.im/post/59e85eebf265da430d571f89</a></p>
</blockquote>
<p>Microtasks(&#x5FAE;&#x4EFB;&#x52A1;) include process.nextTick, promise, Object.observe and MutationObserver </p>
<p>Macrotasks(&#x5B8F;&#x4EFB;&#x52A1;) include script, setTimeout, setInterval, setImmediate, I/O and UI rendering</p>
<p><img width="85%" src="https://user-gold-cdn.xitu.io/2017/11/21/15fdcea13361a1ec?imageView2/0/w/1280/h/960/ignore-error/1"></p>
<p>So the correct sequence of an event loop looks like this:</p>
<p>1.Execute synchronous codes, which belongs to macrotask</p>
<p>2.Once call stack is empty, query if any microtasks need to be executed</p>
<p>3.Execute all the microtasks</p>
<p>4.If necessary, render the UI</p>
<p>5.Then start the next round of the Event loop, and execute the asynchronous operations in the macrotask</p>
<p>example a&#xFF1A;</p>
<pre><code class="lang-js">setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;setTimeout&apos;</span>);
})

<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;promise&apos;</span>);
    resolve();
}).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;then&apos;</span>);
})

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;console&apos;</span>);

<span class="hljs-comment">//promise</span>
<span class="hljs-comment">//console</span>
<span class="hljs-comment">//then</span>
<span class="hljs-comment">//setTimeout</span>
</code></pre>
<p>&#x7B2C;&#x4E00;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</p>
<ol>
<li>&#x5B8F;&#x4EFB;&#x52A1;script&#x8FDB;&#x5165;&#x4E3B;&#x7EBF;&#x7A0B;</li>
<li><code>setTimeout</code>&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6CE8;&#x518C;&#x540E;&#x5206;&#x53D1;&#x5230;&#x5B8F;&#x4EFB;&#x52A1;Event Queue</li>
<li><code>new Promise</code>&#x7ACB;&#x5373;&#x6267;&#x884C;&#xFF0C;<code>then</code>&#x51FD;&#x6570;&#x5206;&#x53D1;&#x5230;&#x5FAE;&#x4EFB;&#x52A1;Event Queue</li>
<li>&#x7ACB;&#x5373;&#x6267;&#x884C;<code>console.log()</code></li>
<li>&#x5B8F;&#x4EFB;&#x52A1;script&#x6267;&#x884C;&#x7ED3;&#x675F;</li>
<li>&#x68C0;&#x67E5;&#x5FAE;&#x4EFB;&#x52A1;Event Queue&#xFF0C;&#x6267;&#x884C;<code>then</code></li>
</ol>
<p>&#x7B2C;&#x4E8C;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</p>
<ol>
<li>&#x68C0;&#x67E5;&#x5B8F;&#x4EFB;&#x52A1;Event Queue&#xFF0C;&#x6267;&#x884C;<code>setTimeout</code>&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;</li>
</ol>
<p>example b&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;1&apos;</span>);

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;2&apos;</span>);
    process.nextTick(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;3&apos;</span>);
    })
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;4&apos;</span>);
        resolve();
    }).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;5&apos;</span>)
    })
})
process.nextTick(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;6&apos;</span>);
})
<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;7&apos;</span>);
    resolve();
}).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;8&apos;</span>)
})

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;9&apos;</span>);
    process.nextTick(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;10&apos;</span>);
    })
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;11&apos;</span>);
        resolve();
    }).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;12&apos;</span>)
    })
})

<span class="hljs-comment">// 1 7 6 8 2 4 3 5 9 11 10 12</span>
</code></pre>
<p>&#x7B2C;&#x4E00;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</p>
<ol>
<li><p>&#x5B8F;&#x4EFB;&#x52A1;script&#x8FDB;&#x5165;&#x4E3B;&#x7EBF;&#x7A0B;</p>
</li>
<li><p>&#x6267;&#x884C;<code>console.log(&apos;1&apos;)</code></p>
</li>
<li><p><code>setTimeout</code>&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x88AB;&#x5206;&#x53D1;&#x5230;&#x5B8F;&#x4EFB;&#x52A1;Event Queue&#x4E2D;&#xFF0C;&#x8BB0;&#x4E3A;<code>setTimeout1</code></p>
<p>&#x5FAE;&#x4EFB;&#x52A1;&#xFF1A;</p>
<p>&#x5B8F;&#x4EFB;&#x52A1;&#xFF1A;  setTimeout1</p>
</li>
<li><p><code>process.nextTick()</code>&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5206;&#x53D1;&#x5230;&#x5FAE;&#x4EFB;&#x52A1;Event Queue&#x4E2D;&#xFF0C;&#x8BB0;&#x4E3A;<code>process1</code></p>
<p>&#x5FAE;&#x4EFB;&#x52A1;&#xFF1A;process1</p>
<p>&#x5B8F;&#x4EFB;&#x52A1;&#xFF1A;  setTimeout1</p>
</li>
<li><p><code>new Promise</code>&#x76F4;&#x63A5;&#x6267;&#x884C;&#xFF0C;<code>then</code>&#x5206;&#x53D1;&#x5230;&#x5FAE;&#x4EFB;&#x52A1;Event Queue&#x4E2D;&#xFF0C;&#x8BB0;&#x4E3A;<code>then1</code></p>
<p>&#x5FAE;&#x4EFB;&#x52A1;&#xFF1A;process1&#xFF0C;then1</p>
<p>&#x5B8F;&#x4EFB;&#x52A1;&#xFF1A;  setTimeout1</p>
</li>
<li><p><code>setTimeout</code>&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5206;&#x53D1;&#x5230;&#x5B8F;&#x4EFB;&#x52A1;Event Queue&#x4E2D;&#xFF0C;&#x8BB0;&#x4E3A;<code>setTimeout2</code></p>
<p>&#x5FAE;&#x4EFB;&#x52A1;&#xFF1A;process1&#xFF0C;then1</p>
<p>&#x5B8F;&#x4EFB;&#x52A1;&#xFF1A;  setTimeout1&#xFF0C;setTimeout2</p>
</li>
<li><p>&#x5B8F;&#x4EFB;&#x52A1;script&#x7ED3;&#x675F;</p>
</li>
<li><p>&#x68C0;&#x67E5;&#x5FAE;&#x4EFB;&#x52A1;&#xFF0C;&#x6267;&#x884C;<code>process1</code></p>
</li>
<li><p>&#x68C0;&#x67E5;&#x5FAE;&#x4EFB;&#x52A1;&#xFF0C;&#x6267;&#x884C;<code>then1</code></p>
</li>
</ol>
<p>&#x7B2C;&#x4E8C;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</p>
<ol>
<li><p>&#x6267;&#x884C;&#x5B8F;&#x4EFB;&#x52A1;<code>setTimeout1</code>&#xFF0C;&#x539F;&#x7406;&#x540C;&#x4E0A;</p>
<p>&#x7B2C;&#x4E09;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;</p>
</li>
<li><p>&#x6267;&#x884C;&#x5B8F;&#x4EFB;&#x52A1;<code>setTimeout2</code>&#xFF0C;&#x539F;&#x7406;&#x540C;&#x4E0A;</p>
</li>
</ol>
<p>&#x7591;&#x95EE;&#xFF1A;&#x7528;nodejs&#x6267;&#x884C;&#x4F1A;&#x6709;&#x5DEE;&#x5F02;&#xFF0C;<code>setTimeout1</code>&#x548C;<code>setTimeout2</code>&#x540C;&#x65F6;&#x6267;&#x884C;</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/11/21/15fdd96beade6575?imageView2/0/w/1280/h/960/ignore-error/1"></p>
<h3 id="primitive">primitive</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" target="_blank">https://developer.mozilla.org/en-US/docs/Glossary/Primitive</a></p>
<p><a href="https://justjavac.com/javascript/2012/12/22/javascript-values-not-everything-is-an-object.html" target="_blank">https://justjavac.com/javascript/2012/12/22/javascript-values-not-everything-is-an-object.html</a></p>
</blockquote>
<p>A <strong>primitive</strong> (primitive value, primitive data type) is data that is not an <a href="https://developer.mozilla.org/en-US/docs/Glossary/object" target="_blank">object</a> and has no <a href="https://developer.mozilla.org/en-US/docs/Glossary/method" target="_blank">methods</a>. In <a href="https://developer.mozilla.org/en-US/docs/Glossary/JavaScript" target="_blank">JavaScript</a>, there are 6 primitive data types: <a href="https://developer.mozilla.org/en-US/docs/Glossary/string" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/number" target="_blank">number</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/boolean" target="_blank">boolean</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/null" target="_blank">null</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/undefined" target="_blank">undefined</a>, <a href="https://developer.mozilla.org/en-US/docs/Glossary/symbol" target="_blank">symbol</a> (new in <a href="https://developer.mozilla.org/en-US/docs/Glossary/ECMAScript" target="_blank">ECMAScript</a> 2015).</p>
<p>All primitives are <strong>immutable,</strong> i.e., they cannot be  altered. It is important not to confuse a primitive itself with a  variable assigned a primitive value. The variable may be reassigned a  new value, but the existing value can not be changed in the ways that  objects, arrays, and functions can be altered.</p>
<p>&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x56FA;&#x5B9A;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x6808;&#x4E2D;&#xFF08;&#x5F53;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x5EFA;&#x7ACB;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x5B58;&#x6808;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5185;&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x5C06;&#x4F1A;&#x9010;&#x4E2A;&#x653E;&#x5165;&#x8FD9;&#x5757;&#x6808;&#x5185;&#x5B58;&#x91CC;&#xFF0C;&#x968F;&#x7740;&#x65B9;&#x6CD5;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x675F;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x5185;&#x5B58;&#x6808;&#x4E5F;&#x5C06;&#x81EA;&#x7136;&#x9500;&#x6BC1;&#x4E86;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x6709;&#x5728;&#x65B9;&#x6CD5;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x90FD;&#x662F;&#x653E;&#x5728;&#x6808;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#xFF1B;&#x6808;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x57FA;&#x7840;&#x53D8;&#x91CF;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#xFF0C;&#x57FA;&#x7840;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x662F;&#x5B58;&#x50A8;&#x5728;&#x6808;&#x4E2D;&#xFF0C;&#x800C;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#x5B58;&#x50A8;&#x5728;&#x6808;&#x4E2D;&#x7684;&#x662F;&#x6307;&#x5411;&#x5806;&#x4E2D;&#x7684;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x5BF9;&#x8C61;&#x7684;&#x5730;&#x5740;</p>
<p>A primitive type has a fixed size in memory. For example, a number occupies eight bytes of memory, and a boolean value can be represented with only one bit. The number type is the largest of the primitive types. If each JavaScript variable reserves eight bytes of memory, the variable can directly hold any primitive value.</p>
<pre><code class="lang-js"><span class="hljs-comment">//1.&#x539F;&#x59CB;&#x503C;&#x4E0D;&#x53EF;&#x53D8;</span>
<span class="hljs-keyword">var</span> str = <span class="hljs-string">&quot;abc&quot;</span>;
str.foo = <span class="hljs-number">123</span>;
str.foo <span class="hljs-comment">//undefined</span>

<span class="hljs-comment">//2.&#x539F;&#x59CB;&#x503C;&#x6CA1;&#x6709;&#x5185;&#x90E8;&#x6807;&#x8BC6;&#xFF0C;&#x6309;&#x503C;&#x6BD4;&#x8F83;</span>
<span class="hljs-string">&quot;abc&quot;</span> === <span class="hljs-string">&quot;abc&quot;</span>
<span class="hljs-literal">true</span>
</code></pre>
<p>&#x9690;&#x5F0F;&#x8F6C;&#x6362;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-built_in">Boolean</span>(<span class="hljs-literal">undefined</span>)<span class="hljs-comment">//false</span>
<span class="hljs-built_in">Boolean</span>(<span class="hljs-number">0</span>)<span class="hljs-comment">//false</span>
<span class="hljs-string">&apos;1&apos;</span>+<span class="hljs-number">2</span> <span class="hljs-comment">//12</span>
<span class="hljs-built_in">Boolean</span>(<span class="hljs-string">&apos;false&apos;</span>)<span class="hljs-comment">//true</span>
<span class="hljs-built_in">Boolean</span>(<span class="hljs-string">&apos;undefined&apos;</span>)<span class="hljs-comment">//true</span>
<span class="hljs-number">3</span> + <span class="hljs-literal">true</span>; <span class="hljs-comment">// 4</span>
</code></pre>
<p>&#x8F6C;&#x6362;&#x6210;false&#xFF1A;</p>
<p>&quot;&quot; &#x7A7A;&#x5B57;&#x4E32;
0, -0, NaN
null
undefined
false</p>
<h3 id="object">object</h3>
<p>&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x4E0D;&#x56FA;&#x5B9A;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x5806;&#x4E2D;&#xFF08;&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5C06;&#x88AB;&#x4FDD;&#x5B58;&#x5230;&#x8FD0;&#x884C;&#x65F6;&#x6570;&#x636E;&#x533A;&#x4E2D;&#xFF0C;&#x4EE5;&#x4FBF;&#x53CD;&#x590D;&#x5229;&#x7528;&#xFF08;&#x56E0;&#x4E3A;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6210;&#x672C;&#x901A;&#x5E38;&#x8F83;&#x5927;&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FD0;&#x884C;&#x65F6;&#x6570;&#x636E;&#x533A;&#x5C31;&#x662F;&#x5806;&#x5185;&#x5B58;&#x3002;&#x5806;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x968F;&#x65B9;&#x6CD5;&#x7684;&#x7ED3;&#x675F;&#x800C;&#x9500;&#x6BC1;&#xFF0C;&#x5373;&#x4F7F;&#x65B9;&#x6CD5;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x8FD8;&#x53EF;&#x80FD;&#x88AB;&#x53E6;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#x6240;&#x5F15;&#x7528;&#xFF08;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x65F6;&#x5F88;&#x5E38;&#x89C1;&#xFF09;&#xFF0C;&#x5219;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4F9D;&#x7136;&#x4E0D;&#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#x5F15;&#x7528;&#x5B83;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x7684;&#x5783;&#x573E;&#x56DE;&#x6536;&#x673A;&#x5236;&#x624D;&#x4F1A;&#x5728;&#x6838;&#x5B9E;&#x7684;&#x65F6;&#x5019;&#x56DE;&#x6536;&#x5B83;</p>
<p>&#x5206;&#x4E3A;&#xFF1A;</p>
<p>&#x539F;&#x59CB;&#x503C;&#x7684;&#x5305;&#x88C5;&#x5668;&#xFF1A;<code>Boolean</code>, <code>Number</code>, <code>String</code></p>
<p><code>[]</code> &#x5C31;&#x662F; <code>new Array()</code></p>
<p><code>{}</code> &#x5C31;&#x662F; <code>new Object()</code></p>
<p><code>function() {}</code> &#x5C31;&#x662F; <code>new Function()</code></p>
<p><code>/\s*/</code> &#x5C31;&#x662F;  <code>new RegExp(&quot;\\s*&quot;)</code></p>
<p><code>new Date(&quot;2011-12-24&quot;)</code></p>
<p>&#x7279;&#x70B9;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-comment">//1.&#x53EF;&#x53D8;</span>
<span class="hljs-keyword">var</span> obj = {};
obj.foo = <span class="hljs-number">123</span>;
obj.foo<span class="hljs-comment">//123</span>

<span class="hljs-comment">//2.&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x552F;&#x4E00;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x901A;&#x8FC7;&#x5B57;&#x9762;&#x91CF;&#x6216;&#x6784;&#x9020;&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x548C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x90FD;&#x4E0D;&#x76F8;&#x7B49;</span>
{} === {}
<span class="hljs-literal">false</span>

<span class="hljs-comment">//&#x5BF9;&#x8C61;&#x662F;&#x901A;&#x8FC7;&#x5F15;&#x7528;&#x6765;&#x6BD4;&#x8F83;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6807;&#x8BC6;&#xFF0C;&#x624D;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x76F8;&#x7B49;&#x7684;</span>
<span class="hljs-keyword">var</span> obj = {};
obj === obj

<span class="hljs-comment">//3.&#x53D8;&#x91CF;&#x4FDD;&#x5B58;&#x4E86;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x5E94;&#x7528;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x5BF9;&#x8C61;&#x2014;&#x2014;&#x6211;&#x4EEC;&#x6539;&#x53D8;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x4E24;&#x4E00;&#x4E2A;&#x4E5F;&#x4F1A;&#x968F;&#x4E4B;&#x6539;&#x53D8;</span>
<span class="hljs-keyword">var</span> var1 = {};
<span class="hljs-keyword">var</span> var2 = var1;
var1.foo = <span class="hljs-number">123</span>;
var2.foo <span class="hljs-comment">//123</span>
</code></pre>
<pre><code class="lang-js"><span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-number">1</span>) <span class="hljs-comment">// &quot;[object Number]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-string">&apos;hi&apos;</span>) <span class="hljs-comment">// &quot;[object String]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call({a:<span class="hljs-string">&apos;hi&apos;</span>}) <span class="hljs-comment">// &quot;[object Object]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call([<span class="hljs-number">1</span>,<span class="hljs-string">&apos;a&apos;</span>]) <span class="hljs-comment">// &quot;[object Array]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">true</span>) <span class="hljs-comment">// &quot;[object Boolean]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(() =&gt; {}) <span class="hljs-comment">// &quot;[object Function]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">null</span>) <span class="hljs-comment">// &quot;[object Null]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-literal">undefined</span>) <span class="hljs-comment">// &quot;[object Undefined]&quot;</span>
<span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-built_in">Symbol</span>(<span class="hljs-number">1</span>)) <span class="hljs-comment">// &quot;[object Symbol]&quot;</span>
</code></pre>
<h4 id="wrap">wrap</h4>
<pre><code class="lang-js"><span class="hljs-keyword">typeof</span> <span class="hljs-string">&quot;abc&quot;</span> <span class="hljs-comment">//&apos;string&apos;</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&quot;abc&quot;</span>) <span class="hljs-comment">//&apos;object&apos;</span>

<span class="hljs-string">&quot;abc&quot;</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span> <span class="hljs-comment">//false</span>
<span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&quot;abc&quot;</span>) <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">String</span> <span class="hljs-comment">//true</span>

<span class="hljs-string">&quot;abc&quot;</span> === <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&quot;abc&quot;</span>) <span class="hljs-comment">//false</span>

<span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&quot;abc&quot;</span>);
<span class="hljs-keyword">var</span> b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&quot;abc&quot;</span>);
a == b <span class="hljs-comment">//false</span>
a == a <span class="hljs-comment">//true</span>
</code></pre>
<h3 id="equality-comparisons">Equality comparisons</h3>
<ul>
<li><p>double equals (<code>==</code>) will perform a type conversion when comparing two things, and will handle <code>NaN</code>, <code>-0</code>, and <code>+0</code> specially to conform to IEEE 754 (so <code>NaN != NaN</code>, and <code>-0 == +0</code>);</p>
</li>
<li><p>triple equals (<code>===</code>) will do the same comparison (including the special handling for <code>NaN</code>, <code>-0</code>, and <code>+0</code>) but without type conversion, by simply always returning <code>false</code> if the types differ;</p>
</li>
<li><p><code>Object.is</code> does no type conversion and no special handling for <code>NaN</code>, <code>-0</code>, and <code>+0</code> (giving it the same behavior as <code>===</code> except on those special numeric values).</p>
</li>
</ul>
<pre><code class="lang-js"><span class="hljs-comment">//&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</span>
<span class="hljs-keyword">var</span> a1 = [<span class="hljs-string">&apos;Hi!&apos;</span>];
<span class="hljs-keyword">var</span> a2 = a1;
<span class="hljs-built_in">console</span>.log(a1 === a2); <span class="hljs-comment">// true</span>

<span class="hljs-comment">//&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#x6307;&#x5411;&#x4E0D;&#x540C;&#x5BF9;&#x8C61;</span>
<span class="hljs-keyword">var</span> b1 = [<span class="hljs-string">&quot;Hi!&quot;</span>];
<span class="hljs-keyword">var</span> b2 = [<span class="hljs-string">&quot;Hi!&quot;</span>];
<span class="hljs-built_in">console</span>.log(b1 === b2); <span class="hljs-comment">// false</span>

<span class="hljs-comment">//&#x6BD4;&#x8F83;&#x5BF9;&#x8C61;&#x7684;&#x503C;</span>
<span class="hljs-keyword">var</span> arr1str = <span class="hljs-built_in">JSON</span>.stringify(arr1);
<span class="hljs-keyword">var</span> arr2str = <span class="hljs-built_in">JSON</span>.stringify(arr2);
<span class="hljs-built_in">console</span>.log(arr1str === arr2str); <span class="hljs-comment">// true</span>
</code></pre>
<h3 id="reference-types">reference types</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://www.cnblogs.com/leiting/p/8081413.html" target="_blank">https://www.cnblogs.com/leiting/p/8081413.html</a></p>
<p><a href="https://blog.fundebug.com/2017/08/09/explain_value_reference_in_js/" target="_blank">https://blog.fundebug.com/2017/08/09/explain_value_reference_in_js/</a></p>
</blockquote>
<pre><code class="lang-js"><span class="hljs-comment">//1.&#x503C;&#x4F20;&#x9012;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiply</span>(<span class="hljs-params">x, y</span>) </span>{
    <span class="hljs-keyword">return</span> x * y;
}
multiply(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);

<span class="hljs-comment">//2.&#x5F15;&#x7528;&#x4F20;&#x9012;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">change</span>(<span class="hljs-params">person</span>) </span>{
    person.age = <span class="hljs-number">25</span>;
    <span class="hljs-keyword">return</span> person;
}
<span class="hljs-keyword">var</span> alex = {
    name: <span class="hljs-string">&apos;Alex&apos;</span>,
    age: <span class="hljs-number">30</span>
};
<span class="hljs-keyword">var</span> changedAlex = change(alex);
<span class="hljs-built_in">console</span>.log(alex); <span class="hljs-comment">// { name: &apos;Alex&apos;, age: 25 }</span>
<span class="hljs-built_in">console</span>.log(changedAlex); <span class="hljs-comment">// { name: &apos;Alex&apos;, age: 25 }</span>
</code></pre>
<h3 id="this">this</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://www.jianshu.com/p/6b4333e78bf5" target="_blank">https://www.jianshu.com/p/6b4333e78bf5</a></p>
<p><a href="https://juejin.im/post/5b9f176b6fb9a05d3827d03f" target="_blank">https://juejin.im/post/5b9f176b6fb9a05d3827d03f</a></p>
</blockquote>
<p>this&#x662F;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x65F6;&#x6240;&#x5728;&#x7684;&#x73AF;&#x5883;&#x5BF9;&#x8C61;</p>
<p>this &#x6307;&#x5411;&#x6700;&#x540E;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x5BF9;&#x8C61;</p>
<p>&#x7BAD;&#x5934;&#x51FD;&#x6570;&#x7684; this &#x59CB;&#x7EC8;&#x6307;&#x5411;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x65F6;&#x7684; this&#xFF0C;&#x800C;&#x975E;&#x6267;&#x884C;&#x65F6;</p>
<p>&#x533F;&#x540D;&#x51FD;&#x6570;&#x7684; this &#x6307;&#x5411; window</p>
<pre><code class="lang-js"><span class="hljs-comment">//===example1===</span>
<span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//this -&gt; window</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.x);
}
test();  <span class="hljs-comment">// 1</span>

<span class="hljs-comment">//===example2===</span>
<span class="hljs-keyword">var</span> obj = {
    x: <span class="hljs-number">1</span>,
    y: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//this -&gt; obj</span>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.x);
    }
};
obj.y(); <span class="hljs-comment">// 1</span>

<span class="hljs-comment">//====example3===</span>
<span class="hljs-keyword">var</span> x = <span class="hljs-number">2</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.x = <span class="hljs-number">1</span>;
}
<span class="hljs-comment">//this -&gt; obj</span>
<span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> test();
obj.x <span class="hljs-comment">// 1</span>
</code></pre>
<ol>
<li><p>&#x9690;&#x5F0F;&#x7ED1;&#x5B9A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> user = {
    name: <span class="hljs-string">&apos;Tyler&apos;</span>,
    greet() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name);
    }
};
user.greet();
</code></pre>
</li>
<li><p>&#x663E;&#x5F0F;&#x7ED1;&#x5B9A;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greet</span> (<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">`Hello, my name is <span class="hljs-subst">${this.name}</span>`</span>)
};

<span class="hljs-keyword">const</span> user = {
    name: <span class="hljs-string">&apos;Tyler&apos;</span>,
    age: <span class="hljs-number">27</span>,
};

greet.call(user);
</code></pre>
</li>
<li><p>new &#x7ED1;&#x5B9A;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">User</span> (<span class="hljs-params">name, age</span>) </span>{
  <span class="hljs-keyword">this</span>.name = name
  <span class="hljs-keyword">this</span>.age = age
};

<span class="hljs-keyword">const</span> me = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;Tyler&apos;</span>, <span class="hljs-number">27</span>);<span class="hljs-comment">//this&#x6307;&#x5411;&#x65B0;&#x5BF9;&#x8C61;</span>
</code></pre>
</li>
<li><p>window &#x7ED1;&#x5B9A;</p>
<pre><code class="lang-js"><span class="hljs-built_in">window</span>.age = <span class="hljs-number">27</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sayAge</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`My age is <span class="hljs-subst">${this.age}</span>`</span>)
}

sayAge ();
</code></pre>
</li>
</ol>
<p>&#x6539;&#x53D8;this&#x6307;&#x5411;</p>
<ul>
<li>&#x4F7F;&#x7528; ES6 &#x7684;&#x7BAD;&#x5934;&#x51FD;&#x6570;</li>
<li>&#x5728;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x4F7F;&#x7528; <code>_this = this</code></li>
<li>&#x4F7F;&#x7528; <code>apply</code>&#x3001;<code>call</code>&#x3001;<code>bind</code></li>
<li>new &#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</li>
</ul>
<h4 id="apply">apply</h4>
<p>&#x6539;&#x53D8;&#x51FD;&#x6570;&#x7684;&#x6307;&#x5411;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x6307;&#x5411;&#x5168;&#x5C40;&#x5BF9;&#x8C61;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> obj = {
    x: <span class="hljs-number">1</span>,
    y: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.x);
    }
};

<span class="hljs-comment">//this -&gt; window</span>
obj.y.apply(); <span class="hljs-comment">// 0</span>
<span class="hljs-comment">//this -&gt; obj</span>
obj.y.apply(obj); <span class="hljs-comment">//1</span>
</code></pre>
<h4 id="call">call</h4>
<p>&#x8DDF;apply&#x76F8;&#x4F3C;&#xFF0C;&#x4F20;&#x7684;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;</p>
<h4 id="bind">bind</h4>
<p>&#x8DDF;call&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">greet</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name);
}

<span class="hljs-keyword">const</span> user = {
    name: <span class="hljs-string">&quot;Tyler&quot;</span>
};

<span class="hljs-keyword">const</span> newFn = greet.bind(user);
newFn(); <span class="hljs-comment">//Tyler</span>
</code></pre>
<h3 id="mvvm">MVVM</h3>
<p>In the JQuery period, if you need to refresh the UI, you need to get the corresponding DOM and then update the UI, so the data and business logic are strongly-coupled with the page.</p>
<p>In MVVM, the UI is driven by data. Once the data is changed, the corresponding UI will be refreshed. If the UI changes, the corresponding data will also be changed. In this way, we can only care about the data flow in business processing without dealing with the page directly. ViewModel only cares about the processing of data and business and does not care how View handles data. In this case, we can separate the View from the Model. If either party changes, it does not necessarily need to change the other party, and some reusable logic can be placed in a ViewModel, allowing multiple Views to reuse this ViewModel.</p>
<p>In MVVM, the core is the two-way binding of data, such as dirty checking by Angular and data hijacking in Vue.</p>
<h3 id="dom">DOM</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://javascript.ruanyifeng.com/dom/node.html" target="_blank">https://javascript.ruanyifeng.com/dom/node.html</a></p>
</blockquote>
<p>DOM&#xFF08;Document Object Model&#xFF09;&#xFF1A;JavaScript &#x64CD;&#x4F5C;&#x7F51;&#x9875;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5C06;&#x7F51;&#x9875;&#x8F6C;&#x4E3A;&#x4E00;&#x4E2A; JavaScript &#x5BF9;&#x8C61;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x7528;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x5404;&#x79CD;&#x64CD;&#x4F5C;</p>
<p>&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x6839;&#x636E; DOM &#x6A21;&#x578B;&#xFF0C;&#x5C06;&#x7ED3;&#x6784;&#x5316;&#x6587;&#x6863;&#xFF08;&#x6BD4;&#x5982; HTML &#x548C; XML&#xFF09;&#x89E3;&#x6790;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x518D;&#x7531;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x6811;&#x72B6;&#x7ED3;&#x6784;&#xFF08;DOM Tree&#xFF09;&#x3002;&#x6240;&#x6709;&#x7684;&#x8282;&#x70B9;&#x548C;&#x6700;&#x7EC8;&#x7684;&#x6811;&#x72B6;&#x7ED3;&#x6784;&#xFF0C;&#x90FD;&#x6709;&#x89C4;&#x8303;&#x7684;&#x5BF9;&#x5916;&#x63A5;&#x53E3;</p>
<p>Node&#xFF1A;DOM &#x7684;&#x6700;&#x5C0F;&#x7EC4;&#x6210;&#x5355;&#x4F4D;</p>
<p>DOM &#x6811;&#xFF1A;&#x7531;&#x5404;&#x79CD;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x8282;&#x70B9;&#x7EC4;&#x6210;</p>
<p><strong>7&#x79CD;&#x8282;&#x70B9;</strong></p>
<p>Document</p>
<p>Element</p>
<p>Attribute</p>
<p>Text</p>
<p>DocumentFragment</p>
<p>DocumentType</p>
<p>Comment</p>
<p><strong>&#x8282;&#x70B9;&#x7684;&#x4E09;&#x79CD;&#x5173;&#x7CFB;&#xFF08;&#x9664;&#x6839;&#x8282;&#x70B9;&#xFF09;</strong></p>
<p>parentNode&#xFF1A;&#x76F4;&#x63A5;&#x7684;&#x4E0A;&#x7EA7;&#x8282;&#x70B9;</p>
<p>childNodes&#xFF1A;&#x76F4;&#x63A5;&#x7684;&#x4E0B;&#x7EA7;&#x8282;&#x70B9;</p>
<p>sibling&#xFF1A;&#x62E5;&#x6709;&#x540C;&#x4E00;&#x4E2A;&#x7236;&#x8282;&#x70B9;&#x7684;&#x8282;&#x70B9;</p>
<p><strong>Node &#x63A5;&#x53E3;&#x7684;&#x5C5E;&#x6027;</strong></p>
<pre><code class="lang-js">Node.nodeType
Node.nodeName
Node.nodeValue
Node.textContent <span class="hljs-comment">//&#x540E;&#x4EE3;&#x8282;&#x70B9;&#x7684;&#x6587;&#x672C;&#x5185;&#x5BB9;</span>
Node.baseURI
Node.ownerDocument <span class="hljs-comment">//&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x6240;&#x5728;&#x7684;&#x9876;&#x5C42;&#x6587;&#x6863;&#x5BF9;&#x8C61;</span>
Node.nextSibling <span class="hljs-comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x8282;&#x70B9;</span>
Node.previousSibling <span class="hljs-comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x4E0A;&#x4E00;&#x4E2A;&#x8282;&#x70B9;</span>
Node.parentNode
Node.parentElement <span class="hljs-comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x7236;&#x5143;&#x7D20;&#x8282;&#x70B9;</span>
Node.firstChild
Node.lastChild
Node.childNodes <span class="hljs-comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x6240;&#x6709;&#x5B50;&#x8282;&#x70B9;</span>
Node.isConnected <span class="hljs-comment">//&#x5F53;&#x524D;&#x8282;&#x70B9;&#x662F;&#x5426;&#x5728;&#x6587;&#x6863;&#x4E4B;&#x4E2D;</span>
</code></pre>
<p><strong>Node&#x63A5;&#x53E3;&#x65B9;&#x6CD5;</strong></p>
<pre><code class="lang-js">Node.appendChild()
Node.hasChildNodes()
Node.cloneNode()
Node.insertBefore()
Node.removeChild()
Node.replaceChild()
Node.contains()
Node.compareDocumentPosition()
Node.isEqualNode()
Node.isSameNode()
Node.normalize()
Node.getRootNode()
</code></pre>
<p><strong>NodeList &#x63A5;&#x53E3;</strong></p>
<pre><code class="lang-js">NodeList.prototype.length
NodeList.prototype.forEach()
NodeList.prototype.item() <span class="hljs-comment">//&#x6210;&#x5458;&#x7684;&#x4F4D;&#x7F6E;</span>
NodeList.prototype.keys()
NodeList.prototype.values()
NodeList.prototype.entries()
</code></pre>
<p><strong>ParentNode &#x63A5;&#x53E3;</strong></p>
<pre><code class="lang-js">ParentNode.children
ParentNode.firstElementChild
ParentNode.lastElementChild
ParentNode.childElementCount
ParentNode.append()
ParentNode.prepend()
</code></pre>
<p><strong>ChildNode &#x63A5;&#x53E3;</strong></p>
<pre><code class="lang-js">ChildNode.remove()
ChildNode.before()
ChildNode.after()
ChildNode.replaceWith()
</code></pre>
<h3 id="new">new</h3>
<blockquote>
<p>Reference</p>
<p><a href="http://javascript.ruanyifeng.com/oop/basic.html" target="_blank">http://javascript.ruanyifeng.com/oop/basic.html</a></p>
</blockquote>
<p>&#x6784;&#x9020;&#x51FD;&#x6570;&#x540D;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;</p>
<p>&#x51FD;&#x6570;&#x5185;&#x7684;<code>this</code>&#x662F;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;</p>
<p><code>new</code>&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Vehicle = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    &apos;use strict&apos;</span>;<span class="hljs-comment">//&#x9632;&#x6B62;this&#x6307;&#x5411;&#x5168;&#x5C40;&#x5BF9;&#x8C61;</span>
    <span class="hljs-keyword">this</span>.price = <span class="hljs-number">1000</span>;
};
<span class="hljs-keyword">var</span> v = <span class="hljs-keyword">new</span> Vehicle();
v.price <span class="hljs-comment">// 1000</span>
</code></pre>
<p> new&#x6267;&#x884C;&#x6B65;&#x9AA4;</p>
<ol>
<li>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;&#xFF0C;&#x4F5C;&#x4E3A;&#x5C06;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;</li>
<li>&#x5C06;&#x8FD9;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;&#x7684;&#x539F;&#x578B;&#xFF0C;&#x6307;&#x5411;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;<code>prototype</code>&#x5C5E;&#x6027;</li>
<li>&#x5C06;&#x8FD9;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;&#x8D4B;&#x503C;&#x7ED9;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x7684;<code>this</code>&#x5173;&#x952E;&#x5B57;</li>
<li>&#x5F00;&#x59CB;&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x7684;&#x4EE3;&#x7801;</li>
</ol>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_new</span>(<span class="hljs-params"><span class="hljs-comment">/* &#x6784;&#x9020;&#x51FD;&#x6570; */</span> constructor, <span class="hljs-comment">/* &#x6784;&#x9020;&#x51FD;&#x6570;&#x53C2;&#x6570; */</span> params</span>) </span>{
    <span class="hljs-comment">// &#x5C06; arguments &#x5BF9;&#x8C61;&#x8F6C;&#x4E3A;&#x6570;&#x7EC4;</span>
    <span class="hljs-keyword">var</span> args = [].slice.call(<span class="hljs-built_in">arguments</span>);
    <span class="hljs-comment">// &#x53D6;&#x51FA;&#x6784;&#x9020;&#x51FD;&#x6570;</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">constructor</span> = args.shift();
    // &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61;&#xFF0C;&#x7EE7;&#x627F;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684; prototype &#x5C5E;&#x6027;
    var context = Object.create(<span class="hljs-keyword">constructor</span>.prototype);
    // &#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;
    var result = <span class="hljs-keyword">constructor</span>.apply(context, args);
    // &#x5982;&#x679C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; context &#x5BF9;&#x8C61;
    return (typeof result === &apos;object&apos; &amp;&amp; result != null) ? result : context;
}

// &#x5B9E;&#x4F8B;
var actor = _new(Person, &apos;&#x5F20;&#x4E09;&apos;, 28);
</code></pre>
<p><code>new</code>&#x547D;&#x4EE4;&#x8C03;&#x7528;&#x65F6;&#xFF0C;<code>new.target</code>&#x6307;&#x5411;&#x5F53;&#x524D;&#x51FD;&#x6570;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">new</span>.target === f);
}

f() <span class="hljs-comment">// false</span>
<span class="hljs-keyword">new</span> f() <span class="hljs-comment">// true</span>
</code></pre>
<p>Object.create()</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> person1 = {
    name: <span class="hljs-string">&apos;Tom&apos;</span>,
    age: <span class="hljs-number">38</span>,
    greeting: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Hi! I\&apos;m &apos;</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">&apos;.&apos;</span>);
    }
};

<span class="hljs-keyword">var</span> person2 = <span class="hljs-built_in">Object</span>.create(person1);

person2.name
person2.greeting()
</code></pre>
<h3 id="prototype">prototype</h3>
<blockquote>
<p>Reference</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></p>
<p><a href="https://github.com/bigdots/blog/issues/1" target="_blank">https://github.com/bigdots/blog/issues/1</a></p>
<p><a href="https://blog.csdn.net/SpicyBoiledFish/article/details/71123162" target="_blank">https://blog.csdn.net/SpicyBoiledFish/article/details/71123162</a></p>
<p><a href="https://blog.csdn.net/cecilia620/article/details/71158048" target="_blank">https://blog.csdn.net/cecilia620/article/details/71158048</a></p>
<p><a href="https://www.jianshu.com/p/15ac7393bc1f" target="_blank">https://www.jianshu.com/p/15ac7393bc1f</a></p>
<p><a href="https://github.com/stone0090/javascript-lessons/tree/master/2.5-Prototype" target="_blank">https://github.com/stone0090/javascript-lessons/tree/master/2.5-Prototype</a></p>
</blockquote>
<p>JavaScript is a bit confusing for developers experienced in  class-based languages (like Java or C++), as it is dynamic and does not  provide a <code>class</code> implementation per se (the <code>class</code> keyword is introduced in ES2015, but is syntactical sugar, JavaScript remains prototype-based).</p>
<p>When it comes to inheritance, JavaScript only has one construct:  objects. Each object has a private property which holds a link to  another object called its <strong>prototype</strong>. That prototype object has a prototype of its own, and so on until an object is reached with <code>null</code> as its prototype. By definition, <code>null</code> has no prototype, and acts as the final link in this <strong>prototype chain</strong>.</p>
<p><img src="https://www.ibm.com/developerworks/cn/web/1306_jiangjj_jsinstanceof/figure1.jpg"></p>
<pre><code class="lang-js"><span class="hljs-keyword">let</span> f = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
   <span class="hljs-keyword">this</span>.a = <span class="hljs-number">1</span>;
   <span class="hljs-keyword">this</span>.b = <span class="hljs-number">2</span>;
}
<span class="hljs-keyword">let</span> o = <span class="hljs-keyword">new</span> f(); <span class="hljs-comment">// {a: 1, b: 2}</span>

f.prototype.b = <span class="hljs-number">3</span>;
f.prototype.c = <span class="hljs-number">4</span>;

<span class="hljs-comment">// {a: 1, b: 2} ---&gt; {b: 3, c: 4} ---&gt; Object.prototype ---&gt; null</span>
<span class="hljs-built_in">console</span>.log(o.a); <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(o.b); <span class="hljs-comment">// 2</span>
<span class="hljs-built_in">console</span>.log(o.c); <span class="hljs-comment">// 4</span>
<span class="hljs-built_in">console</span>.log(o.d); <span class="hljs-comment">// undefined</span>
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> a = {a: <span class="hljs-number">1</span>};
<span class="hljs-comment">// a ---&gt; Object.prototype ---&gt; null</span>

<span class="hljs-keyword">var</span> b = <span class="hljs-built_in">Object</span>.create(a);
<span class="hljs-comment">// b ---&gt; a ---&gt; Object.prototype ---&gt; null</span>
<span class="hljs-built_in">console</span>.log(b.a); <span class="hljs-comment">// 1 (inherited)</span>

<span class="hljs-keyword">var</span> c = <span class="hljs-built_in">Object</span>.create(b);
<span class="hljs-comment">// c ---&gt; b ---&gt; a ---&gt; Object.prototype ---&gt; null</span>

<span class="hljs-keyword">var</span> d = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// d ---&gt; null</span>
<span class="hljs-built_in">console</span>.log(d.hasOwnProperty);
<span class="hljs-comment">// undefined, because d doesn&apos;t inherit from Object.prototype</span>
</code></pre>
<p>&#x6784;&#x9020;&#x51FD;&#x6570;&#x3001;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x3001;&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x4E09;&#x8005;&#x7684;&#x5173;&#x7CFB; </p>
<p><img src="https://img-blog.csdn.net/20170503151554392?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU3BpY3lCb2lsZWRGaXNo/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"> </p>
<p><img src="https://img-blog.csdn.net/20170503152146141?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvU3BpY3lCb2lsZWRGaXNo/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"> </p>
<p>configurable</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> person = { name: <span class="hljs-string">&apos;TOM&apos;</span> } 
<span class="hljs-keyword">delete</span> person.name; <span class="hljs-comment">// true </span>

<span class="hljs-built_in">Object</span>.defineProperty(person, <span class="hljs-string">&apos;name&apos;</span>, { 
    configurable: <span class="hljs-literal">false</span>, 
    value: <span class="hljs-string">&apos;Jake&apos;</span> 
}) 
<span class="hljs-keyword">delete</span> person.name <span class="hljs-comment">// false </span>
<span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">// Jake </span>
person.name = <span class="hljs-string">&quot;alex&quot;</span>;  
<span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">// Jake</span>
</code></pre>
<p> writable</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> person = { name: <span class="hljs-string">&apos;TOM&apos;</span> }
person.name = <span class="hljs-string">&apos;Jake&apos;</span>;
<span class="hljs-built_in">console</span>.log(person.name);

<span class="hljs-built_in">Object</span>.defineProperty(person, <span class="hljs-string">&apos;name&apos;</span>, {
    writable: <span class="hljs-literal">false</span> 
})
person.name = <span class="hljs-string">&apos;alex&apos;</span>;
<span class="hljs-built_in">console</span>.log(person.name); <span class="hljs-comment">// Jake</span>
</code></pre>
<p>get/set</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> person = {}
<span class="hljs-built_in">Object</span>.defineProperties(person, {
    name: { value: <span class="hljs-string">&apos;Jake&apos;</span>, configurable: <span class="hljs-literal">true</span> }, 
    age: {
        get: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value || <span class="hljs-number">22</span> },
        set: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{ <span class="hljs-keyword">this</span>.value = value }
    }
})

person.name <span class="hljs-comment">// Jake</span>
person.age <span class="hljs-comment">// 22</span>
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> person = {}
<span class="hljs-built_in">Object</span>.defineProperty(person, <span class="hljs-string">&apos;name&apos;</span>, {
    value: <span class="hljs-string">&apos;alex&apos;</span>,
    writable: <span class="hljs-literal">false</span>,
    configurable: <span class="hljs-literal">false</span>
})
<span class="hljs-keyword">var</span> descripter = <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="hljs-string">&apos;name&apos;</span>);
<span class="hljs-built_in">console</span>.log(descripter);

<span class="hljs-comment">/*descripter = {
    configurable: false,
    enumerable: false,
    value: &apos;alex&apos;,
    writable: false
}*/</span>
</code></pre>
<p>&#x91CD;&#x5199;&#x539F;&#x578B;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>)</span>{}

Person.prototype = {
    <span class="hljs-keyword">constructor</span> : Person,
    name : &quot;Stone&quot;,
    age : 28,
    job: &quot;Software Engineer&quot;,
    sayName : function () {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name);
    }
};
</code></pre>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name, age, job</span>)</span>{
    <span class="hljs-keyword">this</span>.name = name;
    <span class="hljs-keyword">this</span>.age = age;
    <span class="hljs-keyword">this</span>.job = job;
    <span class="hljs-comment">//&#x79C1;&#x6709;&#x5728;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5185;&#x5B9A;&#x4E49;</span>
    <span class="hljs-keyword">this</span>.friends = [<span class="hljs-string">&quot;ZhangSan&quot;</span>, <span class="hljs-string">&quot;LiSi&quot;</span>];
}

Person.prototype = {
    <span class="hljs-keyword">constructor</span> : Person,
    //&#x5171;&#x4EAB;&#x51FD;&#x6570;&#x7528;&#x539F;&#x578B;&#x5B9A;&#x4E49;
    sayName : function(){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.name);
    }
}

<span class="hljs-keyword">var</span> person1 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;Stone&quot;</span>, <span class="hljs-number">28</span>, <span class="hljs-string">&quot;Software Engineer&quot;</span>);
<span class="hljs-keyword">var</span> person2 = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;Sophie&quot;</span>, <span class="hljs-number">29</span>, <span class="hljs-string">&quot;English Teacher&quot;</span>);

person1.friends.push(<span class="hljs-string">&quot;WangWu&quot;</span>);
<span class="hljs-built_in">console</span>.log(person1.friends);    <span class="hljs-comment">// &quot;ZhangSan,LiSi,WangWu&quot;</span>
<span class="hljs-built_in">console</span>.log(person2.friends);    <span class="hljs-comment">// &quot;ZhangSan,LiSi&quot;</span>
<span class="hljs-built_in">console</span>.log(person1.friends === person2.friends);    <span class="hljs-comment">// false</span>
<span class="hljs-built_in">console</span>.log(person1.sayName === person2.sayName);    <span class="hljs-comment">// true</span>
</code></pre>
<h3 id="grammar-and-types">Grammar and types</h3>
<p><strong>Declarations</strong></p>
<p>var: Declares a variable, optionally initializing it to a value.</p>
<p>let: Declares a block-scoped, local variable, optionally initializing it to a value.</p>
<p>const: Declares a block-scoped, read-only named constant.</p>
<p><strong>Variable scope</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
  <span class="hljs-keyword">let</span> y = <span class="hljs-number">5</span>;
}
<span class="hljs-built_in">console</span>.log(y);  <span class="hljs-comment">// ReferenceError: y is not defined</span>
</code></pre>
<p><strong>Variable hoisting</strong></p>
<pre><code class="lang-js"><span class="hljs-comment">/**
 * Example 1
 */</span>
<span class="hljs-built_in">console</span>.log(x === <span class="hljs-literal">undefined</span>); <span class="hljs-comment">// true</span>
<span class="hljs-keyword">var</span> x = <span class="hljs-number">3</span>;

<span class="hljs-comment">/**
 * Example 2
 */</span>
<span class="hljs-comment">// will return a value of undefined</span>
<span class="hljs-keyword">var</span> myvar = <span class="hljs-string">&apos;my value&apos;</span>;

(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(myvar); <span class="hljs-comment">// undefined</span>
  <span class="hljs-keyword">var</span> myvar = <span class="hljs-string">&apos;local value&apos;</span>;
})();
</code></pre>
<p><strong>Function hoisting</strong></p>
<pre><code class="lang-js"><span class="hljs-comment">/* Function declaration */</span>

foo(); <span class="hljs-comment">// &quot;bar&quot;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;bar&apos;</span>);
}


<span class="hljs-comment">/* Function expression */</span>

baz(); <span class="hljs-comment">// TypeError: baz is not a function</span>

<span class="hljs-keyword">var</span> baz = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;bar2&apos;</span>);
};
</code></pre>
<p><strong>Data types</strong></p>
<p>The latest ECMAScript standard defines seven data types:</p>
<ul>
<li>Six data types that are primitives:<ul>
<li>Boolean. true and false.</li>
<li>null. A special keyword denoting a null value. Because JavaScript is case-sensitive, null is not the same as Null, NULL, or any other variant.</li>
<li>undefined. A top-level property whose value is not defined.</li>
<li>Number. An integer or floating point number. For example: 42 or 3.14159.</li>
<li>String. A sequence of characters that represent a text value. For example:  &quot;Howdy&quot;</li>
<li>Symbol (new in ECMAScript 2015). A data type whose instances are unique and immutable.</li>
</ul>
</li>
<li>and Object</li>
</ul>
<p><strong>Data type conversion</strong></p>
<pre><code class="lang-js"><span class="hljs-string">&apos;37&apos;</span> - <span class="hljs-number">7</span> <span class="hljs-comment">// 30</span>
<span class="hljs-string">&apos;37&apos;</span> + <span class="hljs-number">7</span> <span class="hljs-comment">// &quot;377&quot;</span>
</code></pre>
<h3 id="control-flow-and-error-handling">Control flow and error handling</h3>
<p><strong>Block statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;
{
  <span class="hljs-keyword">var</span> x = <span class="hljs-number">2</span>;
}
<span class="hljs-built_in">console</span>.log(x); <span class="hljs-comment">// outputs 2</span>
</code></pre>
<p><strong>Conditional statements</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">if</span> (condition) {
  statement_1;
} <span class="hljs-keyword">else</span> {
  statement_2;
}
</code></pre>
<p><strong>Exception handling statements</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">throw</span> <span class="hljs-string">&apos;Error2&apos;</span>;   <span class="hljs-comment">// String type</span>
<span class="hljs-keyword">throw</span> <span class="hljs-number">42</span>;         <span class="hljs-comment">// Number type</span>
<span class="hljs-keyword">throw</span> <span class="hljs-literal">true</span>;       <span class="hljs-comment">// Boolean type</span>
<span class="hljs-keyword">throw</span> {toString: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;I&apos;m an object!&quot;</span>; } };
</code></pre>
<pre><code class="lang-js"><span class="hljs-comment">// Create an object type UserException</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">UserException</span>(<span class="hljs-params">message</span>) </span>{
  <span class="hljs-keyword">this</span>.message = message;
  <span class="hljs-keyword">this</span>.name = <span class="hljs-string">&apos;UserException&apos;</span>;
}

<span class="hljs-comment">// Make the exception convert to a pretty string when used as a string </span>
<span class="hljs-comment">// (e.g. by the error console)</span>
UserException.prototype.toString = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name + <span class="hljs-string">&apos;: &quot;&apos;</span> + <span class="hljs-keyword">this</span>.message + <span class="hljs-string">&apos;&quot;&apos;</span>;
}

<span class="hljs-comment">// Create an instance of the object type and throw it</span>
<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UserException(<span class="hljs-string">&apos;Value too high&apos;</span>);
</code></pre>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMonthName</span>(<span class="hljs-params">mo</span>) </span>{
  mo = mo - <span class="hljs-number">1</span>; <span class="hljs-comment">// Adjust month number for array index (1 = Jan, 12 = Dec)</span>
  <span class="hljs-keyword">var</span> months = [<span class="hljs-string">&apos;Jan&apos;</span>, <span class="hljs-string">&apos;Feb&apos;</span>, <span class="hljs-string">&apos;Mar&apos;</span>, <span class="hljs-string">&apos;Apr&apos;</span>, <span class="hljs-string">&apos;May&apos;</span>, <span class="hljs-string">&apos;Jun&apos;</span>, <span class="hljs-string">&apos;Jul&apos;</span>,
                <span class="hljs-string">&apos;Aug&apos;</span>, <span class="hljs-string">&apos;Sep&apos;</span>, <span class="hljs-string">&apos;Oct&apos;</span>, <span class="hljs-string">&apos;Nov&apos;</span>, <span class="hljs-string">&apos;Dec&apos;</span>];
  <span class="hljs-keyword">if</span> (months[mo]) {
    <span class="hljs-keyword">return</span> months[mo];
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-string">&apos;InvalidMonthNo&apos;</span>; <span class="hljs-comment">//throw keyword is used here</span>
  }
}

<span class="hljs-keyword">try</span> { <span class="hljs-comment">// statements to try</span>
  monthName = getMonthName(myMonth); <span class="hljs-comment">// function could throw exception</span>
}
<span class="hljs-keyword">catch</span> (e) {
  monthName = <span class="hljs-string">&apos;unknown&apos;</span>;
  logMyErrors(e); <span class="hljs-comment">// pass exception object to error handler -&gt; your own function</span>
}
</code></pre>
<pre><code class="lang-js">openMyFile();
<span class="hljs-keyword">try</span> {
  writeMyFile(theData); <span class="hljs-comment">//This may throw an error</span>
} <span class="hljs-keyword">catch</span>(e) {  
  handleError(e); <span class="hljs-comment">// If we got an error we handle it</span>
} <span class="hljs-keyword">finally</span> {
  closeMyFile(); <span class="hljs-comment">// always close the resource</span>
}
</code></pre>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doSomethingErrorProne</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (ourCodeMakesAMistake()) {
    <span class="hljs-keyword">throw</span> (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;The message&apos;</span>));
  } <span class="hljs-keyword">else</span> {
    doSomethingToGetAJavascriptError();
  }
}
....
try {
  doSomethingErrorProne();
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-built_in">console</span>.log(e.name); <span class="hljs-comment">// logs &apos;Error&apos;</span>
  <span class="hljs-built_in">console</span>.log(e.message); <span class="hljs-comment">// logs &apos;The message&apos; or a JavaScript error message)</span>
}
</code></pre>
<p><strong>Promise</strong></p>
<p>A <code>Promise</code> is in one of these states:</p>
<ul>
<li><em>pending</em>: initial state, not fulfilled or rejected.</li>
<li><em>fulfilled</em>: successful operation</li>
<li><em>rejected</em>: failed operation.</li>
<li><em>settled</em>: the Promise is either fulfilled or rejected, but not pending.</li>
</ul>
<p><img src="https://mdn.mozillademos.org/files/8633/promises.png"></p>
<h3 id="loops-and-iteration">Loops and iteration</h3>
<p><strong>for statement</strong>
<strong>do...while statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">do</span> {
  i += <span class="hljs-number">1</span>;
  <span class="hljs-built_in">console</span>.log(i);
} <span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">5</span>);
</code></pre>
<p><strong>while statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> (n &lt; <span class="hljs-number">3</span>) {
  n++;
  x += n;
}
</code></pre>
<p><strong>labeled statement</strong></p>
<pre><code class="lang-js">markLoop:
<span class="hljs-keyword">while</span> (theMark == <span class="hljs-literal">true</span>) {
   doSomething();
}
</code></pre>
<p><strong>break statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; a.length; i++) {
  <span class="hljs-keyword">if</span> (a[i] == theValue) {
    <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<p><strong>continue statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">5</span>) {
  i++;
  <span class="hljs-keyword">if</span> (i == <span class="hljs-number">3</span>) {
    <span class="hljs-keyword">continue</span>;
  }
  n += i;
  <span class="hljs-built_in">console</span>.log(n);
}
<span class="hljs-comment">//1,3,7,12</span>
</code></pre>
<p><strong>for...in statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>];
arr.foo = <span class="hljs-string">&apos;hello&apos;</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> arr) {
   <span class="hljs-built_in">console</span>.log(i); <span class="hljs-comment">// logs &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;foo&quot;</span>
}
</code></pre>
<p><strong>for...of statement</strong></p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>];
arr.foo = <span class="hljs-string">&apos;hello&apos;</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">of</span> arr) {
   <span class="hljs-built_in">console</span>.log(i); <span class="hljs-comment">// logs 3, 5, 7</span>
}
</code></pre>
<h3 id="functions">Functions</h3>
<p><strong>recursion</strong></p>
<p>A function can refer to and call itself.</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n</span>) </span>{
    <span class="hljs-built_in">console</span>.trace();<span class="hljs-comment">//&#x67E5;&#x770B;&#x8C03;&#x7528;&#x6808;</span>
    <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    }
    <span class="hljs-keyword">return</span> n * factorial(n - <span class="hljs-number">1</span>)
}
</code></pre>
<p><img width="65%" src="https://user-gold-cdn.xitu.io/2017/6/20/d28ba98f3835845671655db33dfe14bb?imageView2/0/w/1280/h/960/ignore-error/1"></p>
<p>&#x5C3E;&#x9012;&#x5F52;&#xFF1A;&#x662F;&#x4E00;&#x79CD;&#x9012;&#x5F52;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x907F;&#x514D;&#x4E0D;&#x65AD;&#x5C06;&#x51FD;&#x6570;&#x538B;&#x6808;&#x6700;&#x7EC8;&#x5BFC;&#x81F4;&#x5806;&#x6808;&#x6EA2;&#x51FA;&#x3002;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x7D2F;&#x52A0;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x503C;&#x7D2F;&#x52A0;&#x4E0A;&#x53BB;&#xFF0C;&#x7136;&#x540E;&#x9012;&#x5F52;&#x8C03;&#x7528;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n, total = 1</span>) </span>{
    <span class="hljs-built_in">console</span>.trace();<span class="hljs-comment">//&#x67E5;&#x770B;&#x8C03;&#x7528;&#x6808;</span>
    <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> total
    }
    <span class="hljs-keyword">return</span> factorial(n - <span class="hljs-number">1</span>, n * total)
}
factorial(<span class="hljs-number">3</span>);
</code></pre>
<p>&#x51FD;&#x6570;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x8C03;&#x7528;&#x540E;&#x53EF;&#x8FDB;&#x884C;&#x5783;&#x573E;&#x56DE;&#x6536;</p>
<p>factorial(3, 1)
factorial(2, 3)
factorial(1, 6)
factorial(0, 6)</p>
<p>&#x8865;&#x5145;&#xFF1A;</p>
<p>Nodejs&#x9700;&#x8981;&#x4F7F;&#x7528;<code>strict mode</code>&#x548C;<code>--harmony_tailcalls</code>&#x5F00;&#x542F;&#x5C3E;&#x9012;&#x5F52;(proper tail call)</p>
<pre><code class="lang-shell">node --harmony_tailcalls factorial.js
</code></pre>
<p><strong>Closures</strong></p>
<p>Closures are one of the most powerful features of JavaScript. JavaScript
allows for the nesting of functions and grants the inner function full 
access to all the variables and functions defined inside the outer 
function (and all other variables and functions that the outer function 
has access to). However, the outer function does not have access to the 
variables and functions defined inside the inner function. This provides
a sort of encapsulation for the variables of the inner function. Also, 
since the inner function has access to the scope of the outer function, 
the variables and functions defined in the outer function will live 
longer than the duration of the outer function execution, if the inner 
function manages to survive beyond the life of the outer function. A 
closure is created when the inner function is somehow made available to 
any scope outside the outer function.</p>
<p>&#x95ED;&#x5305;&#xFF1A;&#x6709;&#x6743;&#x8BBF;&#x95EE;&#x53E6;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4F5C;&#x7528;&#x57DF;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x7684;&#x51FD;&#x6570;</p>
<p>&#x901A;&#x5E38;&#xFF0C;&#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x53CA;&#x5176;&#x6240;&#x6709;&#x53D8;&#x91CF;&#x90FD;&#x4F1A;&#x5728;&#x51FD;&#x6570;&#x6267;&#x884C;&#x7ED3;&#x675F;&#x540E;&#x88AB;&#x9500;&#x6BC1;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5728;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x95ED;&#x5305;&#x4EE5;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5C31;&#x4F1A;&#x4E00;&#x76F4;&#x4FDD;&#x5B58;&#x5230;&#x95ED;&#x5305;&#x4E0D;&#x5B58;&#x5728;&#x4E3A;&#x6B62;</p>
<p>&#x5E94;&#x7528;&#xFF1A;&#x8BBE;&#x8BA1;&#x79C1;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x53D8;&#x91CF;</p>
<p>&#x7F3A;&#x70B9;&#xFF1A;&#x51CF;&#x6162;&#x5904;&#x7406;&#x901F;&#x5EA6;&#xFF0C;&#x5185;&#x5B58;&#x6D88;&#x8017;</p>
<p><strong>Arguments object</strong></p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myConcat</span>(<span class="hljs-params">separator</span>) </span>{
   <span class="hljs-keyword">var</span> result = <span class="hljs-string">&apos;&apos;</span>; <span class="hljs-comment">// initialize list</span>
   <span class="hljs-keyword">var</span> i;
   <span class="hljs-comment">// iterate through arguments</span>
   <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
      result += <span class="hljs-built_in">arguments</span>[i] + separator;
   }
   <span class="hljs-keyword">return</span> result;
}

<span class="hljs-comment">// returns &quot;red, orange, blue, &quot;</span>
myConcat(<span class="hljs-string">&apos;, &apos;</span>, <span class="hljs-string">&apos;red&apos;</span>, <span class="hljs-string">&apos;orange&apos;</span>, <span class="hljs-string">&apos;blue&apos;</span>);
</code></pre>
<h3 id="expressions-and-operators">Expressions and operators</h3>
<p><strong>Bitwise operators</strong></p>
<p>The operands of all bitwise operators are converted to signed 32-bit  integers in two&apos;s complement format. Two&apos;s complement format means that a number&apos;s negative counterpart (e.g. 5 vs. -5) is all the number&apos;s bits  inverted (bitwise NOT of the number, a.k.a. ones&apos; complement of the  number) plus one. For example, the following encodes the integer 314:</p>
<pre><code>00000000000000000000000100111010
</code></pre><p>The following encodes <code>~314</code>, i.e. the ones&apos; complement of <code>314</code>:</p>
<pre><code>11111111111111111111111011000101
</code></pre><p>Finally, the following encodes <code>-314,</code> i.e. the two&apos;s complement of <code>314</code>:</p>
<pre><code>11111111111111111111111011000110
</code></pre><p>-7&gt;&gt;1 = -4</p>
<pre><code>00000000 00000000 00000000 00000111 //7
11111111 11111111 11111111 11111001 //-7
11111111 11111111 11111111 11111100    //-7&gt;&gt;1
00000000 00000000 00000000 00000100 //4
10000000 00000000 00000000 00000100 //-4
</code></pre><p> -1&gt;&gt;&gt;4 = ox0FFFFFFF</p>
<pre><code>00000000 00000000 00000000 00000001 //1
11111111 11111111 11111111 11111111 //-1
00001111 11111111 11111111 11111111 //-1&gt;&gt;&gt;4
</code></pre><p><strong>Unary operators</strong></p>
<p>delete</p>
<pre><code class="lang-js">x = <span class="hljs-number">42</span>;
<span class="hljs-keyword">var</span> y = <span class="hljs-number">43</span>;
myobj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>();
myobj.h = <span class="hljs-number">4</span>;    <span class="hljs-comment">// create property h</span>
<span class="hljs-keyword">delete</span> x;       <span class="hljs-comment">// returns true (can delete if declared implicitly)</span>
<span class="hljs-keyword">delete</span> y;       <span class="hljs-comment">// returns false (cannot delete if declared with var)</span>
<span class="hljs-keyword">delete</span> <span class="hljs-built_in">Math</span>.PI; <span class="hljs-comment">// returns false (cannot delete predefined properties)</span>
<span class="hljs-keyword">delete</span> myobj.h; <span class="hljs-comment">// returns true (can delete user-defined properties)</span>
<span class="hljs-keyword">delete</span> myobj;   <span class="hljs-comment">// returns true (can delete if declared implicitly)</span>
</code></pre>
<p>typeof</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> myFun = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Function</span>(<span class="hljs-string">&apos;5 + 2&apos;</span>);
<span class="hljs-keyword">var</span> shape = <span class="hljs-string">&apos;round&apos;</span>;
<span class="hljs-keyword">var</span> size = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> foo = [<span class="hljs-string">&apos;Apple&apos;</span>, <span class="hljs-string">&apos;Mango&apos;</span>, <span class="hljs-string">&apos;Orange&apos;</span>];
<span class="hljs-keyword">var</span> today = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();

<span class="hljs-keyword">typeof</span> myFun;       <span class="hljs-comment">// returns &quot;function&quot;</span>
<span class="hljs-keyword">typeof</span> shape;       <span class="hljs-comment">// returns &quot;string&quot;</span>
<span class="hljs-keyword">typeof</span> size;        <span class="hljs-comment">// returns &quot;number&quot;</span>
<span class="hljs-keyword">typeof</span> foo;         <span class="hljs-comment">// returns &quot;object&quot;</span>
<span class="hljs-keyword">typeof</span> today;       <span class="hljs-comment">// returns &quot;object&quot;</span>
<span class="hljs-keyword">typeof</span> doesntExist; <span class="hljs-comment">// returns &quot;undefined&quot;</span>
</code></pre>
<p><strong>Relational operators</strong></p>
<pre><code class="lang-js"><span class="hljs-comment">// Arrays</span>
<span class="hljs-keyword">var</span> trees = [<span class="hljs-string">&apos;redwood&apos;</span>, <span class="hljs-string">&apos;bay&apos;</span>, <span class="hljs-string">&apos;cedar&apos;</span>, <span class="hljs-string">&apos;oak&apos;</span>, <span class="hljs-string">&apos;maple&apos;</span>];
<span class="hljs-number">0</span> <span class="hljs-keyword">in</span> trees;        <span class="hljs-comment">// returns true</span>
<span class="hljs-number">3</span> <span class="hljs-keyword">in</span> trees;        <span class="hljs-comment">// returns true</span>
<span class="hljs-number">6</span> <span class="hljs-keyword">in</span> trees;        <span class="hljs-comment">// returns false</span>
<span class="hljs-string">&apos;bay&apos;</span> <span class="hljs-keyword">in</span> trees;    <span class="hljs-comment">// returns false (you must specify the index number,</span>
                   <span class="hljs-comment">// not the value at that index)</span>
<span class="hljs-string">&apos;length&apos;</span> <span class="hljs-keyword">in</span> trees; <span class="hljs-comment">// returns true (length is an Array property)</span>

<span class="hljs-comment">// built-in objects</span>
<span class="hljs-string">&apos;PI&apos;</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">Math</span>;          <span class="hljs-comment">// returns true</span>
<span class="hljs-keyword">var</span> myString = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(<span class="hljs-string">&apos;coral&apos;</span>);
<span class="hljs-string">&apos;length&apos;</span> <span class="hljs-keyword">in</span> myString;  <span class="hljs-comment">// returns true</span>

<span class="hljs-comment">// Custom objects</span>
<span class="hljs-keyword">var</span> mycar = { make: <span class="hljs-string">&apos;Honda&apos;</span>, model: <span class="hljs-string">&apos;Accord&apos;</span>, year: <span class="hljs-number">1998</span> };
<span class="hljs-string">&apos;make&apos;</span> <span class="hljs-keyword">in</span> mycar;  <span class="hljs-comment">// returns true</span>
<span class="hljs-string">&apos;model&apos;</span> <span class="hljs-keyword">in</span> mycar; <span class="hljs-comment">// returns true</span>
</code></pre>
<h3 id="numbers-and-dates">Numbers and dates</h3>
<p><strong>Numbers</strong></p>
<ul>
<li><p>Decimal numbers</p>
<pre><code class="lang-js"><span class="hljs-number">1234567890</span>
<span class="hljs-number">42</span>

<span class="hljs-comment">// Caution when using leading zeros:</span>

<span class="hljs-number">0888</span> <span class="hljs-comment">// 888 parsed as decimal</span>
<span class="hljs-number">0777</span> <span class="hljs-comment">// parsed as octal in non-strict mode (511 in decimal)</span>
<span class="hljs-comment">/*
Note that decimal literals can start with a zero (0) followed by another decimal digit, but if every digit after the leading 0 is smaller than 8, the number gets parsed as an octal number.
*/</span>
</code></pre>
</li>
<li><p>Binary numbers</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> FLT_SIGNBIT  = <span class="hljs-number">0b10000000000000000000000000000000</span>; <span class="hljs-comment">// 2147483648</span>
<span class="hljs-keyword">var</span> FLT_EXPONENT = <span class="hljs-number">0b01111111100000000000000000000000</span>; <span class="hljs-comment">// 2139095040</span>
<span class="hljs-keyword">var</span> FLT_MANTISSA = <span class="hljs-number">0B00000000011111111111111111111111</span>; <span class="hljs-comment">// 8388607</span>
</code></pre>
</li>
</ul>
<ul>
<li><p>Octal numbers</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> n = <span class="hljs-number">0755</span>; <span class="hljs-comment">// 493</span>
<span class="hljs-keyword">var</span> m = <span class="hljs-number">0644</span>; <span class="hljs-comment">// 420</span>

<span class="hljs-keyword">var</span> a = <span class="hljs-number">0o10</span>; <span class="hljs-comment">// ES2015: 8</span>
</code></pre>
</li>
</ul>
<ul>
<li><p>Hexadecimal numbers</p>
<pre><code class="lang-js"><span class="hljs-number">0xFFFFFFFFFFFFFFFFF</span> <span class="hljs-comment">// 295147905179352830000</span>
<span class="hljs-number">0x123456789ABCDEF</span>   <span class="hljs-comment">// 81985529216486900</span>
<span class="hljs-number">0XA</span>                 <span class="hljs-comment">// 10</span>
</code></pre>
</li>
</ul>
<ul>
<li><p>Exponentiation</p>
<pre><code class="lang-js"><span class="hljs-number">1E3</span>   <span class="hljs-comment">// 1000</span>
<span class="hljs-number">2e6</span>   <span class="hljs-comment">// 2000000</span>
<span class="hljs-number">0.1e2</span> <span class="hljs-comment">// 10</span>
</code></pre>
</li>
</ul>
<p>JavaScript &#x5185;&#x90E8;&#xFF0C;&#x6240;&#x6709;&#x6570;&#x5B57;&#x90FD;&#x662F;&#x4EE5;64&#x4F4D;&#x6D6E;&#x70B9;&#x6570;&#x5F62;&#x5F0F;&#x50A8;&#x5B58;</p>
<p>&#x6839;&#x636E;&#x56FD;&#x9645;&#x6807;&#x51C6; IEEE 754&#xFF0C;JavaScript &#x6D6E;&#x70B9;&#x6570;&#x7684;64&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;</p>
<ul>
<li>&#x7B2C;1&#x4F4D;&#xFF1A;&#x7B26;&#x53F7;&#x4F4D;&#xFF0C;<code>0</code>&#x8868;&#x793A;&#x6B63;&#x6570;&#xFF0C;<code>1</code>&#x8868;&#x793A;&#x8D1F;&#x6570;</li>
<li>&#x7B2C;2&#x4F4D;&#x5230;&#x7B2C;12&#x4F4D;&#xFF08;&#x5171;11&#x4F4D;&#xFF09;&#xFF1A;&#x6307;&#x6570;&#x90E8;&#x5206;&#xFF0C;&#x8868;&#x793A;&#x6570;&#x503C;&#x7684;&#x5927;&#x5C0F;( 0 ~ 2047 )</li>
<li>&#x7B2C;13&#x4F4D;&#x5230;&#x7B2C;64&#x4F4D;&#xFF08;&#x5171;52&#x4F4D;&#xFF09;&#xFF1A;&#x5C0F;&#x6570;&#x90E8;&#x5206;&#xFF08;&#x5373;&#x6709;&#x6548;&#x6570;&#x5B57;&#xFF09;&#xFF0C;&#x8868;&#x793A;&#x6570;&#x503C;&#x7684;&#x7CBE;&#x5EA6;( -2^53 ~ 2^53 )</li>
</ul>
<pre><code class="lang-js"><span class="hljs-comment">//&#x6D6E;&#x70B9;&#x6570;&#x4E0D;&#x662F;&#x7CBE;&#x786E;&#x7684;&#x503C;</span>
<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span>    <span class="hljs-comment">//false</span>
<span class="hljs-number">0.3</span> / <span class="hljs-number">0.1</span>    <span class="hljs-comment">// 2.9999999999999996</span>
(<span class="hljs-number">0.3</span> - <span class="hljs-number">0.2</span>) === (<span class="hljs-number">0.2</span> - <span class="hljs-number">0.1</span>)    <span class="hljs-comment">// false</span>
</code></pre>
<h3 id="regular-expressions">Regular expressions</h3>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> myRe = <span class="hljs-regexp">/d(b+)d/g</span>;
<span class="hljs-keyword">var</span> myArray = myRe.exec(<span class="hljs-string">&apos;cdbbdbsbz&apos;</span>);
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/(\w+)\s(\w+)/</span>;
<span class="hljs-keyword">var</span> str = <span class="hljs-string">&apos;John Smith&apos;</span>;
<span class="hljs-keyword">var</span> newstr = str.replace(re, <span class="hljs-string">&apos;$2, $1&apos;</span>);
<span class="hljs-built_in">console</span>.log(newstr);

<span class="hljs-comment">// &quot;Smith, John&quot;</span>
</code></pre>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/\w+\s/g</span>;
<span class="hljs-keyword">var</span> str = <span class="hljs-string">&apos;fee fi fo fum&apos;</span>;
<span class="hljs-keyword">var</span> myArray = str.match(re);
<span class="hljs-built_in">console</span>.log(myArray);

<span class="hljs-comment">// [&quot;fee &quot;, &quot;fi &quot;, &quot;fo &quot;]</span>
</code></pre>
<h3 id="working-with-objects">Working with objects</h3>
<p>In JavaScript, an object is a standalone entity, with properties and 
type. Compare it with a cup, for example. A cup is an object, with 
properties. A cup has a color, a design, weight, a material it is made 
of, etc. The same way, JavaScript objects can have properties, which 
define their characteristics.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="nginx.html" class="navigation navigation-prev " aria-label="Previous page: Nginx">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="angular.html" class="navigation navigation-next " aria-label="Next page: Angular">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"JavaScript","level":"3.3","depth":1,"next":{"title":"Angular","level":"3.4","depth":1,"path":"post/angular.md","ref":"post/angular.md","articles":[]},"previous":{"title":"Nginx","level":"3.2","depth":1,"path":"post/nginx.md","ref":"post/nginx.md","articles":[]},"dir":"ltr"},"config":{"plugins":["page-treeview","splitter"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"page-treeview":{"copyright":"Copyright Â© aleen42","minHeaderCount":"1","minHeaderDeep":"1"},"splitter":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Jamie","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Jamie House","gitbook":"*","description":"V5"},"file":{"path":"post/javascript.md","mtime":"2019-02-25T08:34:23.801Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-03-29T02:42:17.358Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

