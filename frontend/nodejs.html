
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>NodeJS Â· Jamie House</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Jamie">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="nginx.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Root
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../basic/">
            
                <a href="../basic/">
            
                    
                    Basic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../basic/git.html">
            
                <a href="../basic/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basic/data-structures.html">
            
                <a href="../basic/data-structures.html">
            
                    
                    Data Structures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../basic/algorithms.html">
            
                <a href="../basic/algorithms.html">
            
                    
                    Algorithms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../basic/http.html">
            
                <a href="../basic/http.html">
            
                    
                    Http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../basic/restful.html">
            
                <a href="../basic/restful.html">
            
                    
                    RESTful
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../basic/regular_exp.html">
            
                <a href="../basic/regular_exp.html">
            
                    
                    Regular Exp
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Frontend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1" data-path="nodejs.html">
            
                <a href="nodejs.html">
            
                    
                    NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="nginx.html">
            
                <a href="nginx.html">
            
                    
                    Nginx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../backend/">
            
                <a href="../backend/">
            
                    
                    Backend
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../backend/java.html">
            
                <a href="../backend/java.html">
            
                    
                    Java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../backend/maven.html">
            
                <a href="../backend/maven.html">
            
                    
                    Maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../backend/concurrency.html">
            
                <a href="../backend/concurrency.html">
            
                    
                    Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../backend/spring.html">
            
                <a href="../backend/spring.html">
            
                    
                    Spring
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../backend/architecture.html">
            
                <a href="../backend/architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../backend/mongodb.html">
            
                <a href="../backend/mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../backend/mysql.html">
            
                <a href="../backend/mysql.html">
            
                    
                    Mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../backend/redis.html">
            
                <a href="../backend/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../devops/">
            
                <a href="../devops/">
            
                    
                    DevOps
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../devops/docker.html">
            
                <a href="../devops/docker.html">
            
                    
                    Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../devops/tomcat.html">
            
                <a href="../devops/tomcat.html">
            
                    
                    Tomcat
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../devops/linux.html">
            
                <a href="../devops/linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../devops/windows.html">
            
                <a href="../devops/windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../devops/os.html">
            
                <a href="../devops/os.html">
            
                    
                    OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../devops/design-patterns.html">
            
                <a href="../devops/design-patterns.html">
            
                    
                    Design Patterns
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../tool/">
            
                <a href="../tool/">
            
                    
                    Tool
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../tool/vscode.html">
            
                <a href="../tool/vscode.html">
            
                    
                    VSCode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../tool/eclipse.html">
            
                <a href="../tool/eclipse.html">
            
                    
                    Eclipse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../tool/typora.html">
            
                <a href="../tool/typora.html">
            
                    
                    Typora
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../tool/devenv.html">
            
                <a href="../tool/devenv.html">
            
                    
                    DevEnv
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../other/">
            
                <a href="../other/">
            
                    
                    Other
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../other/hexo.html">
            
                <a href="../other/hexo.html">
            
                    
                    Hexo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../other/browser.html">
            
                <a href="../other/browser.html">
            
                    
                    Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../other/roadmap.html">
            
                <a href="../other/roadmap.html">
            
                    
                    Roadmap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >NodeJS</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright &#xA9; aleen42 all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#nodejs">NodeJS</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5E94;&#x7528;">&#x5E94;&#x7528;</a><i></i></div></li>
<li><div><a href="#&#x4F18;&#x70B9;">&#x4F18;&#x70B9;</a><i></i></div></li>
</ul></li>
<li><div><a href="#debug">Debug</a><i></i></div></li>
<li><div><a href="#nvm">nvm</a><i></i></div></li>
<li><div><a href="#error">Error</a><i></i></div></li>
<li><div><a href="#modularization">Modularization</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#commonjs">CommonJS</a><i></i></div></li>
<li><div><a href="#amd">AMD</a><i></i></div></li>
<li><div><a href="#cmd">CMD</a><i></i></div></li>
<li><div><a href="#es6">ES6</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x76F8;&#x5173;&#x4E66;&#x7C4D;">&#x76F8;&#x5173;&#x4E66;&#x7C4D;</a><i></i></div></li>
<li><div><a href="#npm">npm</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#version">version</a><i></i></div></li>
<li><div><a href="#&#x6D41;&#x7A0B;&#x63A7;&#x5236;">&#x6D41;&#x7A0B;&#x63A7;&#x5236;</a><i></i></div></li>
</ul></li>
<li><div><a href="#concept">Concept</a><i></i></div></li>
</ul>
</div>

<h2 id="nodejs">NodeJS</h2>
<p>Node.js&#xAE; is a JavaScript runtime built on Chrome&apos;s V8 JavaScript engine. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient. Node.js&apos; package ecosystem, npm, is the largest ecosystem of open source libraries in the world.</p>
<ul>
<li>&#x57FA;&#x4E8E; Google V8 &#x5F15;&#x64CE;&#x7684; JavaScript &#x8FD0;&#x884C;&#x65F6;&#x73AF;&#x5883;</li>
<li>Chrome V8 &#x5F15;&#x64CE;&#x4EE5; C/C++ &#x4E3A;&#x4E3B;</li>
<li>&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#xFF08;event-driven&#xFF09;&#xFF0C;&#x975E;&#x963B;&#x585E; I/O &#x6A21;&#x578B;&#xFF08;non-blocking I/O model&#xFF09;&#xFF0C;&#x7531;C/C++ &#x7F16;&#x5199;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x5904;&#x7406;&#x5E93;Libuv&#xFF0C;&#x5904;&#x7406; I/O &#x64CD;&#x4F5C;</li>
<li>npm&#x5305;&#x7BA1;&#x7406;&#x5668;</li>
</ul>
<p><img src="https://static.cnodejs.org/Fh2MIT1r4YStGl9ZEEzt7N4lEbqX"></p>
<p><img src="https://static.cnodejs.org/FkTMjCoX4xyL0rJtmm7oBc6V0i8W"></p>
<h3 id="&#x5E94;&#x7528;">&#x5E94;&#x7528;</h3>
<ul>
<li>&#x524D;&#x7AEF;&#xFF1A;react\vue\angular&#x3001;&#x5E94;&#x7528;&#x5B9E;&#x8DF5;&#x3001;&#x67B6;&#x6784;</li>
<li>&#x540E;&#x7AEF;&#xFF1A;&#x6838;&#x5FC3;&#x7279;&#x6027;&#x3001;Web&#x5E94;&#x7528;&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x3001;&#x5C01;&#x88C5;API&#x3001;&#x7EC4;&#x88C5;RPC&#x670D;&#x52A1;&#x3001;&#x6D4B;&#x8BD5;&#x3001;&#x90E8;&#x7F72;</li>
<li>&#x8DE8;&#x5E73;&#x53F0;&#xFF1A;&#x524D;&#x7AEF;&#x3001;&#x79FB;&#x52A8;&#x7AEF;&#x3001;PC&#x7AEF;&#xFF08;electron&#xFF09;</li>
<li>&#x5DE5;&#x5177;&#xFF1A;&#x9884;&#x7F16;&#x8BD1;&#x3001;webpack&#x3001;&#x5DE5;&#x7A0B;&#x5316;</li>
</ul>
<h3 id="&#x4F18;&#x70B9;">&#x4F18;&#x70B9;</h3>
<p>&#x7B80;&#x5355;&#x6613;&#x5B66;</p>
<p>&#x6027;&#x80FD;&#x597D;</p>
<p>&#x90E8;&#x7F72;&#x5BB9;&#x6613;</p>
<p>&#x5904;&#x7406;&#x9AD8;&#x5E76;&#x53D1;&#x573A;&#x666F;&#x4E0B;&#x7684;&#x5927;&#x91CF;&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;</p>
<p>&#x751F;&#x6001;&#x5F3A;&#x5927;&#xFF08;&#x5927;&#x91CF;NPM&#x6A21;&#x5757;&#xFF09;</p>
<p>&#x5F00;&#x6E90;&#x7684;</p>
<p>&#x8DE8;&#x5E73;&#x53F0;</p>
<p>&#x9AD8;&#x6548;&#xFF08;I/O&#x5904;&#x7406;&#xFF09;</p>
<h2 id="debug">Debug</h2>
<pre><code>node inspect app.js
or
npm I -g node-inspect
node-inspect app.js
</code></pre><ul>
<li><p>node debugger</p>
</li>
<li><p>node inspector</p>
</li>
</ul>
<p>VSCode</p>
<ol>
<li><p>Sidebar debug -&gt; Add config -&gt; Edit launch.json</p>
<pre><code class="lang-json">{
  <span class="hljs-comment">// Use IntelliSense to learn about possible attributes.</span>
  <span class="hljs-comment">// Hover to view descriptions of existing attributes.</span>
  <span class="hljs-comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
  <span class="hljs-string">&quot;version&quot;</span>: <span class="hljs-string">&quot;0.2.0&quot;</span>,
  <span class="hljs-string">&quot;configurations&quot;</span>: [
    {
      <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;node&quot;</span>,
      <span class="hljs-string">&quot;request&quot;</span>: <span class="hljs-string">&quot;launch&quot;</span>,
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Launch Program&quot;</span>,
      <span class="hljs-string">&quot;program&quot;</span>: <span class="hljs-string">&quot;${workspaceFolder}/micro-packages/index.js&quot;</span> <span class="hljs-comment">//&#x6267;&#x884C;&#x6587;&#x4EF6;</span>
    }
  ]
}
</code></pre>
</li>
<li><p>F5 Start Debugging</p>
</li>
</ol>
<h2 id="nvm">nvm</h2>
<pre><code>sudo apt-get update
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.25.2/install.sh | bash
export NVM_DIR=&quot;/home/jamie/.nvm&quot;[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot; 
nvm
nvm install &lt;version&gt;
nvm ls
nvm use &lt;version&gt;
nvm alias default &lt;version&gt;
</code></pre><h2 id="error">Error</h2>
<pre><code>Interal watch failed ENOSPC:
echo fs.inotify.max_user_watches=582222 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p
</code></pre><h2 id="modularization">Modularization</h2>
<blockquote>
<p>&#x53C2;&#x8003;</p>
<p><a href="https://segmentfault.com/a/1190000015991869#articleHeader8" target="_blank">https://segmentfault.com/a/1190000015991869#articleHeader8</a></p>
</blockquote>
<h3 id="commonjs">CommonJS</h3>
<p>&#x540C;&#x6B65;&#xFF0C;&#x7528;&#x5728;&#x670D;&#x52A1;&#x7AEF;</p>
<ol>
<li>&#x5BF9;&#x4E8E;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5C5E;&#x4E8E;&#x590D;&#x5236;&#x3002;&#x5373;&#x4F1A;&#x88AB;&#x6A21;&#x5757;&#x7F13;&#x5B58;&#xFF1B;&#x540C;&#x65F6;&#xFF0C;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x5BF9;&#x8BE5;&#x6A21;&#x5757;&#x8F93;&#x51FA;&#x7684;&#x53D8;&#x91CF;&#x91CD;&#x65B0;&#x8D4B;&#x503C;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x590D;&#x6742;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x5C5E;&#x4E8E;&#x6D45;&#x62F7;&#x8D1D;&#x3002;&#x7531;&#x4E8E;&#x4E24;&#x4E2A;&#x6A21;&#x5757;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x8BE5;&#x6A21;&#x5757;&#x7684;&#x503C;&#x505A;&#x4FEE;&#x6539;&#x65F6;&#x4F1A;&#x5F71;&#x54CD;&#x53E6;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x3002;</li>
<li>&#x5F53;&#x4F7F;&#x7528;require&#x547D;&#x4EE4;&#x52A0;&#x8F7D;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x8FD0;&#x884C;&#x6574;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x3002;</li>
<li>&#x5F53;&#x4F7F;&#x7528;require&#x547D;&#x4EE4;&#x52A0;&#x8F7D;&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x518D;&#x6267;&#x884C;&#x8BE5;&#x6A21;&#x5757;&#xFF0C;&#x800C;&#x662F;&#x53D6;&#x5230;&#x7F13;&#x5B58;&#x4E4B;&#x4E2D;&#x7684;&#x503C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;CommonJS&#x6A21;&#x5757;&#x65E0;&#x8BBA;&#x52A0;&#x8F7D;&#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x90FD;&#x53EA;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x52A0;&#x8F7D;&#x65F6;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x4EE5;&#x540E;&#x518D;&#x52A0;&#x8F7D;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x9664;&#x975E;&#x624B;&#x52A8;&#x6E05;&#x9664;&#x7CFB;&#x7EDF;&#x7F13;&#x5B58;&#x3002;</li>
<li>&#x5FAA;&#x73AF;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x5C5E;&#x4E8E;&#x52A0;&#x8F7D;&#x65F6;&#x6267;&#x884C;&#x3002;&#x5373;&#x811A;&#x672C;&#x4EE3;&#x7801;&#x5728;require&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4F1A;&#x5168;&#x90E8;&#x6267;&#x884C;&#x3002;&#x4E00;&#x65E6;&#x51FA;&#x73B0;&#x67D0;&#x4E2A;&#x6A21;&#x5757;&#x88AB;&quot;&#x5FAA;&#x73AF;&#x52A0;&#x8F7D;&quot;&#xFF0C;&#x5C31;&#x53EA;&#x8F93;&#x51FA;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x8FD8;&#x672A;&#x6267;&#x884C;&#x7684;&#x90E8;&#x5206;&#x4E0D;&#x4F1A;&#x8F93;&#x51FA;&#x3002;</li>
</ol>
<pre><code class="lang-js"><span class="hljs-comment">//&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;</span>
<span class="hljs-built_in">module</span>.exports = {
    a: <span class="hljs-number">1</span>
}
<span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./a.js&apos;</span>); 
<span class="hljs-built_in">module</span>.a <span class="hljs-comment">// 1</span>

<span class="hljs-comment">//&#x5BFC;&#x51FA;class</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Deer</span> </span>{}
<span class="hljs-built_in">module</span>.exports = Deer;
<span class="hljs-keyword">var</span> Deer = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./Deer&quot;</span>);

<span class="hljs-comment">//&#x5BFC;&#x51FA;&#x5E26;&#x540D;&#x51FD;&#x6570;</span>
<span class="hljs-built_in">module</span>.exports.foo = () =&gt; {};
<span class="hljs-keyword">var</span> x = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./x&quot;</span>);
x.foo();

<span class="hljs-comment">//&#x5BFC;&#x51FA;&#x533F;&#x540D;&#x51FD;&#x6570;</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
<span class="hljs-keyword">var</span> x = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;./x&quot;</span>);
x();

<span class="hljs-comment">// &#x5BFC;&#x51FA;&#x6570;&#x7EC4;</span>
<span class="hljs-built_in">module</span>.exports = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>];

<span class="hljs-comment">// &#x5BFC;&#x51FA;&#x591A;&#x4E2A;&#x51FD;&#x6570;</span>
<span class="hljs-built_in">module</span>.exports = {
  foo: () =&gt; {},
  bar: () =&gt; {}
};
</code></pre>
<h3 id="amd">AMD</h3>
<p>( Asynchronous Module Definition )</p>
<p>&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x7528;&#x5728;&#x6D4F;&#x89C8;&#x5668;</p>
<p>&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x6A21;&#x5757;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x90FD;&#x5B9A;&#x4E49;&#x5728;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x7B49;&#x5230;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x624D;&#x6267;&#x884C;&#x3002;</p>
<ul>
<li><p>RequireJS&#x6267;&#x884C;&#x6D41;&#x7A0B;&#xFF1A;</p>
</li>
<li><p>require&#x51FD;&#x6570;&#x68C0;&#x67E5;&#x4F9D;&#x8D56;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x83B7;&#x53D6;js&#x6587;&#x4EF6;&#x7684;&#x5B9E;&#x9645;&#x8DEF;&#x5F84;</p>
</li>
<li>&#x6839;&#x636E;js&#x6587;&#x4EF6;&#x5B9E;&#x9645;&#x8DEF;&#x5F84;&#xFF0C;&#x5728;dom&#x4E2D;&#x63D2;&#x5165;script&#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x7ED1;&#x5B9A;onload&#x4E8B;&#x4EF6;&#x6765;&#x83B7;&#x53D6;&#x8BE5;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x7684;&#x901A;&#x77E5;&#x3002;</li>
<li>&#x4F9D;&#x8D56;script&#x5168;&#x90E8;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="lang-js">define([<span class="hljs-string">&apos;./a&apos;</span>, <span class="hljs-string">&apos;./b&apos;</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
    a.do()
    b.do()
})
</code></pre>
<h3 id="cmd">CMD</h3>
<p>( Common Module Definition )</p>
<p>&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x7528;&#x5728;&#x6D4F;&#x89C8;&#x5668;</p>
<p>&#x5EF6;&#x8FDF;&#x6267;&#x884C;&#xFF08;&#x8FD0;&#x884C;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#xFF0C;&#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF09;</p>
<p>&#x4E0E;requireJS&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x65B9;&#x5F0F;&#x548C;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x65F6;&#x673A;&#x4E0D;&#x540C;</p>
<pre><code class="lang-js">define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require, exports, module</span>) </span>{
    <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./a&apos;</span>)  
    a.doSomething()   
    <span class="hljs-keyword">var</span> b = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./b&apos;</span>)
    b.doSomething()
})
</code></pre>
<h3 id="es6">ES6</h3>
<ol>
<li>ES6&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x503C;&#x5C5E;&#x4E8E;&#x3010;&#x52A8;&#x6001;&#x53EA;&#x8BFB;&#x5F15;&#x7528;&#x3011;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x53EA;&#x8BFB;&#x6765;&#x8BF4;&#xFF0C;&#x5373;&#x4E0D;&#x5141;&#x8BB8;&#x4FEE;&#x6539;&#x5F15;&#x5165;&#x53D8;&#x91CF;&#x7684;&#x503C;&#xFF0C;import&#x7684;&#x53D8;&#x91CF;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x8FD8;&#x662F;&#x590D;&#x6742;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x5F53;&#x6A21;&#x5757;&#x9047;&#x5230;import&#x547D;&#x4EE4;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x5F15;&#x7528;&#x3002;&#x7B49;&#x5230;&#x811A;&#x672C;&#x771F;&#x6B63;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x518D;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x53EA;&#x8BFB;&#x5F15;&#x7528;&#xFF0C;&#x5230;&#x88AB;&#x52A0;&#x8F7D;&#x7684;&#x90A3;&#x4E2A;&#x6A21;&#x5757;&#x91CC;&#x9762;&#x53BB;&#x53D6;&#x503C;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x52A8;&#x6001;&#x6765;&#x8BF4;&#xFF0C;&#x539F;&#x59CB;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;import&#x52A0;&#x8F7D;&#x7684;&#x503C;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;&#x4E0D;&#x8BBA;&#x662F;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x8FD8;&#x662F;&#x590D;&#x6742;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;</li>
<li>&#x5FAA;&#x73AF;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;ES6&#x6A21;&#x5757;&#x662F;&#x52A8;&#x6001;&#x5F15;&#x7528;&#x3002;&#x53EA;&#x8981;&#x4E24;&#x4E2A;&#x6A21;&#x5757;&#x4E4B;&#x95F4;&#x5B58;&#x5728;&#x67D0;&#x4E2A;&#x5F15;&#x7528;&#xFF0C;&#x4EE3;&#x7801;&#x5C31;&#x80FD;&#x591F;&#x6267;&#x884C;&#x3002;</li>
</ol>
<pre><code class="lang-js"><span class="hljs-comment">// file a.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{}
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{}
<span class="hljs-comment">// file b.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}

<span class="hljs-keyword">import</span> {a, b} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./a.js&apos;</span>
<span class="hljs-keyword">import</span> x <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./b.js&apos;</span>
</code></pre>
<h2 id="&#x76F8;&#x5173;&#x4E66;&#x7C4D;">&#x76F8;&#x5173;&#x4E66;&#x7C4D;</h2>
<p>&#x8FD8;&#x6CA1;&#x770B;&#xFF1A;</p>
<p>&#x300A;JavaScript&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x300B;</p>
<p>&#x300A;&#x4E86;&#x4E0D;&#x8D77;&#x7684;Node.js&#x300B;</p>
<p>&#x6B63;&#x5728;&#x770B;&#xFF1A;</p>
<p>&#x300A;JavaScript&#x6743;&#x5A01;&#x6307;&#x5357;&#x300B;</p>
<p>&#x300A;&#x6DF1;&#x5165;&#x6D45;&#x51FA;Node.js&#x300B;</p>
<p>&#x770B;&#x5B8C;&#x4E86;&#xFF1A;</p>
<p>&#x300A;Node.js in action&#x300B;</p>
<h2 id="npm">npm</h2>
<h3 id="version">version</h3>
<pre><code>&#x8BBE;version 0.1.0
npm version major //v1.0.0 &#x4E3B;&#x7248;&#x672C;&#x53F7;
npm version premajor //v1.0.0-0 &#x9884;&#x5907;&#x4E3B;&#x7248;&#x672C;
npm version minor //v0.1.0 &#x6B21;&#x7248;&#x672C;&#x53F7;
npm version preminor //v0.1.0-0 &#x9884;&#x5907;&#x6B21;&#x7248;&#x672C;
npm version patch //v0.1.1 &#x4FEE;&#x8BA2;&#x53F7;
npm version prepatch //v0.1.1-0 &#x9884;&#x5907;&#x4FEE;&#x8BA2;&#x7248;
npm version prerelease //v0.1.2-0 &#x9884;&#x53D1;&#x5E03;&#x7248;&#x672C;

npm -v //&#x67E5;&#x770B;node&#x7248;&#x672C;
npm config list //&#x67E5;&#x770B;node&#x914D;&#x7F6E;
npm root //&#x67E5;&#x770B;node_modules&#x76EE;&#x5F55;
npm root -g //&#x67E5;&#x770B;&#x5168;&#x5C40;node_modules&#x76EE;&#x5F55;

npm i &lt;module&gt; //&#x5B89;&#x88C5;&#x6700;&#x65B0;&#x6A21;&#x5757;
npm i //&#x5B89;&#x88C5;package.json&#x91CC;&#x7684;&#x6A21;&#x5757;
npm i -g &lt;module&gt; //&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x6A21;&#x5757;
npm i -S &lt;module&gt; //&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x5230;dependencies
npm i -D &lt;lib&gt; //&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x5230;dev-dependencies
npm remove &lt;module&gt; //&#x79FB;&#x9664;&#x6A21;&#x5757;
npm update &lt;module&gt; //&#x66F4;&#x65B0;&#x6A21;&#x5757;
npm view &lt;module&gt; //&#x67E5;&#x770B;&#x6A21;&#x5757;&#x4FE1;&#x606F;
npm view &lt;module&gt; versions //&#x67E5;&#x770B;&#x6A21;&#x5757;&#x5386;&#x53F2;&#x7248;&#x672C;

npm init //&#x751F;&#x6210;package.json
npm init -y //&#x751F;&#x6210;package.json&#x5E76;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;

npm run &lt;script&gt; //&#x8FD0;&#x884C;package.json&#x91CC;scripts&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x547D;&#x4EE4;
</code></pre><h3 id=""> </h3>
<h2 id="&#x6D41;&#x7A0B;&#x63A7;&#x5236;">&#x6D41;&#x7A0B;&#x63A7;&#x5236;</h2>
<ul>
<li>EventEmitter</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> EventEmitter = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;events&apos;</span>)
<span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>)

<span class="hljs-comment">//&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5BF9;&#x8C61;</span>
<span class="hljs-keyword">var</span> MyEmitter = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{}

<span class="hljs-comment">//&#x7EE7;&#x627F;EventEmitter</span>
util.inherits(MyEmitter, EventEmitter)

<span class="hljs-comment">//&#x5B9E;&#x4F8B;&#x5316;&#x51FD;&#x6570;&#x5BF9;&#x8C61;</span>
<span class="hljs-keyword">const</span> myEmitter = <span class="hljs-keyword">new</span> MyEmitter();

<span class="hljs-comment">//&#x521B;&#x5EFA;event&#x4E8B;&#x4EF6;</span>
myEmitter.on(<span class="hljs-string">&apos;event&apos;</span>, (a, b) =&gt; {
    <span class="hljs-built_in">console</span>.log(a, b, <span class="hljs-keyword">this</span>);
});

<span class="hljs-comment">//&#x8BA2;&#x9605;event</span>
myEmitter.emit(<span class="hljs-string">&apos;event&apos;</span>, <span class="hljs-string">&apos;a&apos;</span>, <span class="hljs-string">&apos;b&apos;</span>);
</code></pre>
<ul>
<li>Promise</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) </span>{
    <span class="hljs-keyword">if</span> (ok) {
        resolve(<span class="hljs-string">&quot;Stuff worked!&quot;</span>);
    }
    <span class="hljs-keyword">else</span> {
        reject(<span class="hljs-built_in">Error</span>(<span class="hljs-string">&quot;It broke&quot;</span>));
    }
}).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>)</span>{
    <span class="hljs-built_in">console</span>.log(text)
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">&apos;my error&apos;</span>))
}).catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>{
    <span class="hljs-built_in">console</span>.log(err)
})
</code></pre>
<ul>
<li>Async/Await</li>
</ul>
<pre><code class="lang-js"><span class="hljs-keyword">async</span> (ctx, next) =&gt; {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">let</span> students = <span class="hljs-keyword">await</span> Student.getAllAsync();
        <span class="hljs-keyword">await</span> ctx.render(<span class="hljs-string">&apos;students/index&apos;</span>, {
            students : students
        })
    } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">return</span> ctx.api_error(err);
    }
};
</code></pre>
<h2 id="concept">Concept</h2>
<ul>
<li>async vs. parallel</li>
</ul>
<p>It&apos;s very common to conflate the terms &quot;async&quot; and &quot;parallel,&quot; but they are actually quite different. Remember, async is about the gap between now and later. But parallel is about things being able to occur simultaneously.</p>
<ul>
<li>Concurrency</li>
</ul>
<p>Concurrency is when two or more &quot;processes&quot; are executing simultaneously over the same period, regardless of whether their individual constituent operations happen in parallel (at the same instant on separate processors or cores) or not. You can think of concurrency then as &quot;process&quot;-level (or task-level) parallelism, as opposed to operation-level parallelism (separate-processor threads).</p>
<ul>
<li>tick</li>
</ul>
<p>Whenever there are events to run, the event loop runs until the queue is empty. Each iteration of the event loop is a &quot;tick.&quot; User interaction, IO, and timers enqueue events on the event queue.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Frontend">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="nginx.html" class="navigation navigation-next " aria-label="Next page: Nginx">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"NodeJS","level":"1.3.1","depth":2,"next":{"title":"Nginx","level":"1.3.2","depth":2,"path":"frontend/nginx.md","ref":"frontend/nginx.md","articles":[]},"previous":{"title":"Frontend","level":"1.3","depth":1,"path":"frontend/README.md","ref":"frontend/README.md","articles":[{"title":"NodeJS","level":"1.3.1","depth":2,"path":"frontend/nodejs.md","ref":"frontend/nodejs.md","articles":[]},{"title":"Nginx","level":"1.3.2","depth":2,"path":"frontend/nginx.md","ref":"frontend/nginx.md","articles":[]},{"title":"JavaScript","level":"1.3.3","depth":2,"path":"frontend/javascript.md","ref":"frontend/javascript.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["page-treeview","splitter"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"page-treeview":{"copyright":"Copyright Â© aleen42","minHeaderCount":"1","minHeaderDeep":"1"},"splitter":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Jamie","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Jamie House","gitbook":"*","description":"The note for dev."},"file":{"path":"frontend/nodejs.md","mtime":"2018-10-31T07:54:44.639Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-31T10:03:51.780Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

